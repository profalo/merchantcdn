(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[1],{106:function(e,t,a){e.exports=a(160)},112:function(e,t,a){var n={"./ion-action-sheet.entry.js":[164,5],"./ion-alert.entry.js":[165,6],"./ion-app_8.entry.js":[166,7],"./ion-avatar_3.entry.js":[167,17],"./ion-back-button.entry.js":[168,18],"./ion-backdrop.entry.js":[169,44],"./ion-button_2.entry.js":[170,19],"./ion-card_5.entry.js":[171,20],"./ion-checkbox.entry.js":[172,21],"./ion-chip.entry.js":[173,22],"./ion-col_3.entry.js":[174,45],"./ion-datetime_3.entry.js":[175,10],"./ion-fab_3.entry.js":[176,23],"./ion-img.entry.js":[177,46],"./ion-infinite-scroll_2.entry.js":[178,47],"./ion-input.entry.js":[179,24],"./ion-item-option_3.entry.js":[180,25],"./ion-item_8.entry.js":[181,26],"./ion-loading.entry.js":[182,27],"./ion-menu_3.entry.js":[183,28],"./ion-modal.entry.js":[184,8],"./ion-nav_2.entry.js":[185,14],"./ion-popover.entry.js":[186,9],"./ion-progress-bar.entry.js":[187,29],"./ion-radio_2.entry.js":[188,30],"./ion-range.entry.js":[189,31],"./ion-refresher_2.entry.js":[190,11],"./ion-reorder_2.entry.js":[191,16],"./ion-ripple-effect.entry.js":[192,48],"./ion-route_4.entry.js":[193,32],"./ion-searchbar.entry.js":[194,33],"./ion-segment_2.entry.js":[195,34],"./ion-select_3.entry.js":[196,35],"./ion-slide_2.entry.js":[197,49],"./ion-spinner.entry.js":[198,13],"./ion-split-pane.entry.js":[199,50],"./ion-tab-bar_2.entry.js":[200,36],"./ion-tab_2.entry.js":[201,15],"./ion-text.entry.js":[202,37],"./ion-textarea.entry.js":[203,38],"./ion-toast.entry.js":[204,39],"./ion-toggle.entry.js":[205,12],"./ion-virtual-scroll.entry.js":[206,51]};function s(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return a.e(t[1]).then((function(){return a(s)}))}s.keys=function(){return Object.keys(n)},s.id=112,e.exports=s},114:function(e,t,a){var n={"./ion-icon.entry.js":[208,58]};function s(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return a.e(t[1]).then((function(){return a(s)}))}s.keys=function(){return Object.keys(n)},s.id=114,e.exports=s},125:function(e,t,a){},126:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},153:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(44),l=a.n(r),i=a(1),o=(a(115),a(116),a(117),a(118),a(119),a(120),a(121),a(122),a(123),a(124),a(125),a(126),a(36)),c=a(19),u=a(28),d=a(8),m=(a(149),function(e){var t=e.location,a=e.appPage;return s.a.createElement(i.B,{autoHide:!1},s.a.createElement(i.t,{className:t.pathname===a.url?"selected":"",routerLink:a.url,routerDirection:"root",lines:"none",detail:!1},s.a.createElement(i.q,{slot:"start",ios:a.iosIcon,md:a.mdIcon}),s.a.createElement(i.v,null,a.title)))}),v=function(){var e,t,a=Object(c.f)(),r=Object(n.useContext)(o.a).userState;return s.a.createElement(i.z,{contentId:"main",type:"overlay"},s.a.createElement(i.m,null,s.a.createElement(i.w,{id:"inbox-list"},s.a.createElement(i.L,{key:1,className:"ion-margin-bottom"},s.a.createElement(i.l,{size:"3"},s.a.createElement(i.c,null,s.a.createElement("img",{alt:"user-icon",src:d.a.PlaceholderImg}))),s.a.createElement(i.l,null,s.a.createElement(i.x,null,null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.name),s.a.createElement(i.D,null,null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.phone_number))),u.c.map((function(e,t){return s.a.createElement(m,{key:t,appPage:e,location:a})})))))},E=a(68),p=(a(150),a(5)),g=a(2),f=(a(151),function(e){var t=e.isLoading,a=e.notificationCount;return s.a.createElement(i.e,{disabled:t,routerLink:u.g.url,routerDirection:"root"},s.a.createElement(i.q,{slot:"start",icon:g.I}),!t&&a>0&&s.a.createElement(i.d,{slot:"end",color:"danger"},a>9?"9+":a))}),b=function(e){var t=e.id,a=e.children,r=Object(c.f)(),l=Object(n.useState)(""),o=Object(p.a)(l,2),d=o[0],m=o[1];return Object(n.useEffect)((function(){var e;m(null===(e=Object(u.e)(r.pathname))||void 0===e?void 0:e.title)}),[r]),s.a.createElement(i.E,{id:t},s.a.createElement(i.p,null,s.a.createElement(i.W,null,s.a.createElement(i.f,{slot:"start"},s.a.createElement(i.A,null)),s.a.createElement(i.U,null,d),r.pathname!==u.g.url&&s.a.createElement(i.f,{slot:"secondary",className:"mh-sm"},s.a.createElement(f,{notificationCount:0})))),s.a.createElement(i.m,null,a))},h=a(42),w=(a(152),function(e){var t=e.title,a=e.showModal,r=e.onClose,l=Object(n.useRef)(null),o=Object(n.useState)(null),c=Object(p.a)(o,2),u=c[0],m=c[1],v=Object(n.useState)(!1),E=Object(p.a)(v,2),f=E[0],b=E[1],w=function(e){m(null),b(!0)},y=function(){if(l.current){var e=window.firebaseAuthUI;e.reset();var t=function(e){return{popupMode:!1,signInOptions:[{provider:h.a.auth.PhoneAuthProvider.PROVIDER_ID,defaultCountry:"IN",whitelistedCountries:d.a.ENV_IS_LOCAL()?["IN","US"]:["IN"]}],tosUrl:"https://profalo.in/terms/",privacyPolicyUrl:"https://profalo.in/privacy/",callbacks:e}}({signInFailure:w});e.start(l.current,t)}};return Object(n.useEffect)((function(){y()}),[a]),s.a.createElement(i.C,{mode:"ios",isOpen:a,cssClass:"ion-no-border",backdropDismiss:!1},s.a.createElement(i.V,{isOpen:f,message:null!==u&&void 0!==u?u:"Some error occurred",color:"danger",position:"top",onDidDismiss:function(){return b(!1)},duration:5e3}),s.a.createElement(i.m,null,s.a.createElement(i.t,{color:"clear",lines:"none"},s.a.createElement("h2",{style:{paddingLeft:"16px"}},t),s.a.createElement(i.e,{slot:"end",fill:"clear",size:"large",color:"medium",onClick:function(){return r()}},s.a.createElement(i.q,{icon:g.o}))),s.a.createElement("div",{className:"ion-padding"},s.a.createElement("div",{id:"firebaseui-auth-container",ref:l}))))}),y=(a(153),function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)("Login"),o=Object(p.a)(l,2),c=o[0],u=o[1],d=function(e){u(e),r((function(e){return!e}))};return s.a.createElement(i.E,null,s.a.createElement(i.p,{className:"ion-no-border"},s.a.createElement(i.W,{color:"primary"},s.a.createElement(i.f,{className:"ion-padding",slot:"start"},s.a.createElement("a",{href:"https://profalo.in/"},s.a.createElement(i.r,{src:"https://profalo.in/img/logo.svg",style:{width:"120px"},className:"svg-logo-white"}))))),s.a.createElement(i.m,null,s.a.createElement("div",{className:"ion-text-center",style:{padding:"8vh",backgroundColor:"#ebf2ff",color:"#194589"}},s.a.createElement("h1",{style:{fontSize:"2.8em"}},"Merchant Dashboard"),s.a.createElement("p",null,"Manage your business presence online with profalo.in")),s.a.createElement(i.L,{className:"ion-align-items-center"},s.a.createElement(i.l,{sizeSm:"12",sizeMd:"8",sizeLg:"6",sizeXl:"3",className:"ion-padding pt-lg ion-text-center self-align-center-horizontal"},s.a.createElement("br",null),s.a.createElement(i.t,{color:"primary",className:"rounded-border",button:!0,onClick:function(){return d("Login")}},s.a.createElement(i.q,{icon:g.e,slot:"start"}),s.a.createElement(i.v,null,s.a.createElement("small",null,"Login now"),s.a.createElement("h2",null,"Login with phone number."))),s.a.createElement("br",null),s.a.createElement(i.u,null),s.a.createElement("br",null),s.a.createElement(i.t,{color:"clear",lines:"none",className:"rounded-border",button:!0,onClick:function(){return d("Register new account")}},s.a.createElement(i.q,{icon:g.L,slot:"start",color:"primary"}),s.a.createElement(i.v,{color:"primary"},s.a.createElement("small",null,"Don't have a account ?"),s.a.createElement("h2",null,"Create a new account now."))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement(i.u,null),s.a.createElement("br",null),s.a.createElement(i.l,{sizeSm:"12",sizeMd:"10",sizeLg:"8",sizeXl:"3",className:"ion-padding pt-lg ion-text-center self-align-center-horizontal"},s.a.createElement(i.t,{lines:"none",button:!0,href:"https://profalo.in/merchant-faq"},s.a.createElement(i.q,{icon:g.u,slot:"start"}),s.a.createElement(i.v,{className:"ion-text-capitalize"},"Have a question? Check out our FAQ.")),s.a.createElement("br",null),s.a.createElement(i.t,{lines:"none",button:!0,href:"https://profalo.in/#contactus"},s.a.createElement(i.q,{icon:g.t,slot:"start"}),s.a.createElement(i.v,{className:"ion-text-capitalize"},"Feel free to contact us."))))),s.a.createElement(w,{title:c,showModal:a,onClose:function(){r((function(e){return!e}))}}))}),O=function(e){var t=e.title;return s.a.createElement(i.E,null,s.a.createElement(i.m,null,s.a.createElement(i.y,{isOpen:!0,message:null!==t&&void 0!==t?t:"Loading...",spinner:"crescent"})))},j=Object(n.lazy)((function(){return a.e(40).then(a.bind(null,225))})),L=function(){return s.a.createElement(E.a,null,s.a.createElement(i.Q,{contentId:"main",className:"ion-split-pane-max-width"},s.a.createElement(v,null),s.a.createElement(b,{id:"main"},s.a.createElement(j,null))),s.a.createElement(c.a,{from:"/",to:u.d.url,exact:!0}))},N=function(){return s.a.createElement(E.a,null,s.a.createElement(i.K,{basePath:u.a},s.a.createElement(c.b,{path:u.a+"/login",exact:!0},s.a.createElement(y,null)),s.a.createElement(c.a,{from:u.a,to:u.a+"/login",exact:!0}),s.a.createElement(c.a,{from:"/",to:u.a+"/login",exact:!0})),s.a.createElement(c.a,{from:"/",to:u.a+"/login",exact:!0}))},C=function(){var e=Object(n.useContext)(o.a).auth;return(null===e||void 0===e?void 0:e.isLoading)?s.a.createElement(O,null):(null===e||void 0===e?void 0:e.isAuthenticated())?s.a.createElement(n.Suspense,{fallback:s.a.createElement(O,{title:"Loading Dashboard..."})},s.a.createElement(L,null)):s.a.createElement(N,null)},S=a(23),q=a(96),x=a(53);Object(i.gb)({mode:"md"});var I=new S.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnMount:!1,retryOnMount:!1,refetchIntervalInBackground:!1,staleTime:12e4,cacheTime:12e4,keepPreviousData:!1,refetchOnReconnect:!1}}});x.a.appInit(window._x_aC),h.a.initializeApp(x.a.get().firebase),window.firebaseAuthUI=new q.a.AuthUI(h.a.auth()),d.a.ToggleUITheme("light");var k=function(){return s.a.createElement(S.QueryClientProvider,{client:I},s.a.createElement(o.b,null,s.a.createElement(i.b,null,s.a.createElement(C,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,t,a){"use strict";var n=a(63),s=a.n(n),r=a(8).a.WithAppURL("/api/myprofalo/v1/");s.a.defaults.withCredentials=!0;var l={BASE_URl:r,httpClient:s.a.create({baseURL:r,responseType:"json"}),rawAxios:s.a};t.a=l},28:function(e,t,a){"use strict";var n,s=a(2),r=a(5),l=a(1),i=a(0),o=a.n(i),c=a(23),u=a(19),d=function(e){var t=e.message,a=e.className;return t?o.a.createElement("span",{className:a},o.a.createElement(l.R,{color:"danger"},o.a.createElement("small",null,t))):null},m=function(e){var t=e.message,a=e.className;return t?o.a.createElement(l.t,{className:a},o.a.createElement(l.R,{color:"danger"},o.a.createElement("small",null,t))):null},v=a(31),E=a(41),p=function(){var e=Object(i.useState)({}),t=Object(r.a)(e,2),a=t[0],n=t[1];return[a,function(e,t){e&&n((function(a){return Object(E.a)(Object(E.a)({},a),{},Object(v.a)({},e,t))}))},function(e){n(e)}]},g=a(7),f=a.n(g),b=a(15),h=a(26),w={GetBusinessCategories:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.httpClient.get("business-category",{params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},y=a(8);!function(e){e.Verified="Verified",e.PendingVerification="Pending Verification",e.Unverified="Unverified"}(n||(n={}));var O=function(e){var t,a={success:!0,request:null};return e?y.a.StrIsFalsy(e.businessName)?(a.success=!1,a.message="Name is required",a.error={businessName:[a.message]},a):!e.businessCategoryId||e.businessCategoryId<0?(a.success=!1,a.message="Business category is required",a.error={businessCategoryId:[a.message]},a):null==e.businessOwns?(a.success=!1,a.message="Please select if you are an owner of this business",a.error={businessOwns:[a.message]},a):"false"==e.businessOwns&&y.a.StrIsFalsy(e.businessOwnerName)?(a.success=!1,a.message="Owner name is required",a.error={businessOwnerName:[a.message]},a):(a.request={businessName:e.businessName.trim(),businessCategoryId:e.businessCategoryId,businessOwns:"true"===e.businessOwns?"1":"0",businessOwnerName:null===(t=e.businessOwnerName)||void 0===t?void 0:t.trim()},a):(a.success=!1,a.message="Something went wrong, please try again later.",a)},j=function(e){var t,a,n,s,r,l,i={success:!0,request:null};return e?y.a.StrIsFalsy(e.businessName)?(i.success=!1,i.message="Name is required",i.error={businessName:[i.message]},i):y.a.StrIsFalsy(e.businessCategoryId)||"0"===e.businessCategoryId?(i.success=!1,i.message="Business category is required",i.error={businessCategoryId:[i.message]},i):(i.request={businessId:e.businessId,businessName:null===e||void 0===e||null===(t=e.businessName)||void 0===t?void 0:t.trim(),businessCategoryId:null===e||void 0===e?void 0:e.businessCategoryId,businessDescription:null===e||void 0===e||null===(a=e.businessDescription)||void 0===a?void 0:a.trim(),businessAddressLine1:null===e||void 0===e||null===(n=e.businessAddressLine1)||void 0===n?void 0:n.trim(),businessAddressLine2:null===e||void 0===e||null===(s=e.businessAddressLine2)||void 0===s?void 0:s.trim(),businessAddressCity:null===e||void 0===e||null===(r=e.businessAddressCity)||void 0===r?void 0:r.trim(),businessAddressState:null===e||void 0===e||null===(l=e.businessAddressState)||void 0===l?void 0:l.trim(),businessAddressPincode:e.businessAddressPincode,businessContacts:e.businessContacts,businessSocials:e.businessSocials,businessOther:e.businessOther},i):(i.success=!1,i.message="Something went wrong, please try again later.",i)},L=function(e,t){var a=new Map,n=[];try{n=JSON.parse(e)}catch(s){}return t.forEach((function(e){var t,s=n&&n.length>0?n.findIndex((function(t){return t.name===e})):-1,r=s>-1&&null!==(t=n[s].value)&&void 0!==t?t:"";a.set(e,r)})),a},N={GetBusinesses:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.httpClient.get("business",{params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),GetBusiness:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.httpClient.get("business/"+t.id);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),CreateBusiness:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=O(t)).success){e.next=3;break}return e.abrupt("return",y.a.CreateAPIResponseObj(a));case 3:return e.abrupt("return",h.a.httpClient.post("business",a.request));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),UpdateBusiness:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=j(t)).success){e.next=3;break}return e.abrupt("return",y.a.CreateAPIResponseObj(n));case 3:return e.abrupt("return",h.a.httpClient.put("business/"+(null===(a=n.request)||void 0===a?void 0:a.businessId),n.request));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),DeleteBusiness:function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.httpClient.delete("business/"+t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),UploadBusinessProfileImage:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).set("image",t.request.image),e.abrupt("return",h.a.httpClient.post("business/"+t.request.id+"/profile-image",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t.onUploadProgress}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ConvertToBusinessVerificationStatus:function(e){switch(e){case 1:return n.PendingVerification;case 2:return n.Verified;case 3:default:return n.Unverified}},ConvertToBusinessContacts:function(e){return L(e,["whatsapp","alternate","email"])},ConvertToBusinessSocials:function(e){return L(e,["facebook","instagram","twitter"])},MapBusinessDetailsToJson:function(e){var t=[];return e.forEach((function(e,a){t.push({name:a,value:e})})),t}},C=function(e){var t,a,n,d,v=e.showModal,E=e.onClose,g=p(),f=Object(r.a)(g,3),b=f[0],h=f[1],O=(f[2],p()),j=Object(r.a)(O,3),L=j[0],C=j[1],S=j[2],q=Object(i.useState)(null),x=Object(r.a)(q,2),I=x[0],k=x[1],z=Object(i.useState)(!1),P=Object(r.a)(z,2),A=P[0],_=P[1],D=Object(c.useMutation)(N.CreateBusiness.name,N.CreateBusiness),U=Object(i.useState)(),B=Object(r.a)(U,2),T=B[0],R=B[1],M=Object(u.e)(),G=Object(c.useQueryClient)(),F=Object(c.useQuery)([w.GetBusinessCategories.name,{}],(function(){return w.GetBusinessCategories({})})),V=function(e){e&&(k(e.errorMessage),e.businessName&&e.businessName[0]&&C("businessName",e.businessName[0]),e.businessCategoryId&&e.businessCategoryId[0]&&C("businessCategoryId",e.businessCategoryId[0]),e.businessOwns&&e.businessOwns[0]&&C("businessOwns",e.businessOwns[0]),e.businessOwnerName&&e.businessOwnerName[0]&&C("businessOwnerName",e.businessOwnerName[0]),_(!0))},W=null===(t=F.data)||void 0===t?void 0:t.data;return o.a.createElement(l.C,{isOpen:v,cssClass:"ion-no-border",backdropDismiss:!1},o.a.createElement(l.V,{isOpen:A,message:null!==I&&void 0!==I?I:"Some error occurred",color:"danger",position:"top",onDidDismiss:function(){return _(!1)},duration:5e3}),o.a.createElement(l.m,null,o.a.createElement("div",{className:"ion-padding"},o.a.createElement("div",{className:"ion-padding"},o.a.createElement("h1",{className:"ion-no-margin"},"Add new business")),o.a.createElement("div",null,o.a.createElement(l.w,{className:"ion-no-padding"},o.a.createElement(l.t,{className:"pt-0"},F.isLoading&&o.a.createElement(l.F,{type:"indeterminate"}),o.a.createElement(l.v,{position:"stacked"},"Select Business Category"),o.a.createElement(l.N,{placeholder:"Select category",onIonChange:function(e){R(e.detail.value)},value:T,disabled:D.isLoading||F.isLoading,selectedText:null!==(a=null===T||void 0===T?void 0:T.title)&&void 0!==a?a:"None"},null===W||void 0===W?void 0:W.map((function(e,t){return o.a.createElement(l.O,{key:t,value:e},e.title)})))),o.a.createElement(l.t,{style:{paddingTop:"16px"}},o.a.createElement(l.v,{position:"stacked"},"Business Name"),o.a.createElement(l.s,{value:b.businessName,onIonChange:function(e){return h("businessName",e.detail.value)},autofocus:!0,disabled:D.isLoading,placeholder:"full business name",required:!0,maxlength:150})),o.a.createElement(m,{message:L.businessName}),o.a.createElement(l.t,{style:{paddingTop:"16px"}},o.a.createElement(l.v,{position:"stacked"},"Do you own this Business ?")),o.a.createElement(m,{message:L.businessOwns}),o.a.createElement(l.H,{value:b.businessOwns,onIonChange:function(e){return h("businessOwns",e.detail.value)}},o.a.createElement(l.t,null,o.a.createElement(l.v,null,"Yes, I own this Business."),o.a.createElement(l.G,{slot:"start",value:"true"})),o.a.createElement(l.t,null,o.a.createElement(l.v,null,"No, I do not own this Business."),o.a.createElement(l.G,{slot:"start",value:"false"}))),"false"===b.businessOwns&&o.a.createElement(o.a.Fragment,null,o.a.createElement(l.t,{style:{paddingTop:"16px"}},o.a.createElement(l.v,{position:"stacked"},"Owner Name"),o.a.createElement(l.s,{value:b.businessOwnerName,onIonChange:function(e){return h("businessOwnerName",e.detail.value)},autofocus:!0,disabled:D.isLoading,placeholder:"owner full name",required:!0,maxlength:150})),o.a.createElement(m,{message:L.businessOwnerName})),D.isLoading&&o.a.createElement(l.F,{type:"indeterminate"}))))),o.a.createElement(l.n,null,o.a.createElement(l.L,{className:"ion-padding"},o.a.createElement(l.l,{sizeLg:"6",sizeSm:"6"},o.a.createElement(l.e,{fill:"clear",color:"medium",onClick:E,disabled:D.isLoading},o.a.createElement(l.q,{icon:s.o,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Cancel"))),o.a.createElement(l.l,{sizeLg:"6",sizeSm:"6"},o.a.createElement(l.e,{onClick:function(){var e,t;k(null),S({}),D.mutate({businessName:b.businessName,businessCategoryId:null!==(e=null===T||void 0===T?void 0:T.id)&&void 0!==e?e:0,businessOwns:null!==(t=b.businessOwns)&&void 0!==t?t:null,businessOwnerName:b.businessOwnerName},{onError:function(e,t,a){var n=y.a.GetAPIErrorObj(e);V(n)},onSuccess:function(e,t,a){var n=y.a.GetAPIDataObj(e);if(n)if(n.success)G.invalidateQueries([N.GetBusinesses.name,{page:1,searchTerm:""}]),M.push(H.url.replace(":id",n.data.id).replace(":newBusiness",b.businessName));else{var s=y.a.GetAPIErrorObj(e);console.log(s),V(s)}}})},className:"ion-float-right",disabled:D.isLoading||(null!==(n=b.businessName)&&void 0!==n?n:"").length<2||!(null===T||void 0===T?void 0:T.id),fill:(null!==(d=b.businessName)&&void 0!==d?d:"").length<2?"clear":"solid"},o.a.createElement(l.q,{icon:s.Q,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Save & Next"))))))},S=function(e){var t=e.message,a=e.icon;return o.a.createElement("div",{className:"ion-padding ion-text-center"},o.a.createElement(l.q,{icon:a||s.V,size:"large",color:"medium"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(l.R,{color:"medium"},t))},q=function(){return o.a.createElement("div",null,o.a.createElement(l.t,null,o.a.createElement(l.T,{slot:"start"},o.a.createElement(l.P,{animated:!0})),o.a.createElement(l.v,null,o.a.createElement(l.P,{animated:!0,style:{width:"80%"}}),o.a.createElement(l.P,{animated:!0,style:{width:"20%"}}))),o.a.createElement(l.t,null,o.a.createElement(l.T,{slot:"start"},o.a.createElement(l.P,{animated:!0})),o.a.createElement(l.v,null,o.a.createElement(l.P,{animated:!0,style:{width:"80%"}}),o.a.createElement(l.P,{animated:!0,style:{width:"20%"}}))),o.a.createElement(l.t,null,o.a.createElement(l.T,{slot:"start"},o.a.createElement(l.P,{animated:!0})),o.a.createElement(l.v,null,o.a.createElement(l.P,{animated:!0,style:{width:"80%"}}),o.a.createElement(l.P,{animated:!0,style:{width:"20%"}}))))},x=function(e){var t,a,n=e.business;return o.a.createElement(l.t,{routerLink:H.url.replace(":id",n.id.toString()).replace(":newBusiness",""),routerDirection:"root",button:!0},o.a.createElement(l.T,{slot:"start"},o.a.createElement(l.r,{style:{borderRadius:"8px"},alt:null!==(t=n.name)&&void 0!==t?t:"",src:null!==(a=n.photoURL)&&void 0!==a?a:y.a.PlaceholderImg})),o.a.createElement(l.v,null,o.a.createElement("h2",{className:"pb-sm"},n.name),o.a.createElement("p",null,N.ConvertToBusinessVerificationStatus(n.business_status_id))))},I=function(e){var t=e.businesses,a=e.currentPage,n=e.totalPages,s=e.getNextPage,r=e.getPreviousPage;return t&&t.length>0?o.a.createElement("div",null,o.a.createElement(l.w,{lines:"full"},t.map((function(e,t){return o.a.createElement(x,{key:t,business:e})}))),o.a.createElement(l.u,{className:"mt-md"},o.a.createElement(l.v,{slot:"start"},"Page ",a," of ",n),o.a.createElement(l.v,{slot:"end"},o.a.createElement(l.e,{color:"primary",size:"small",fill:"clear",className:"ion-text-capitalize",onClick:r,disabled:1===a},"Previous"),o.a.createElement(l.e,{color:"primary",size:"small",fill:"clear",className:"ion-text-capitalize",onClick:s,disabled:a===n},"Next")))):o.a.createElement(S,{message:"No item to show, click on 'Add Business' button to add one."})},k=function(){var e,t,a,n,u=Object(i.useState)(""),d=Object(r.a)(u,2),m=d[0],v=d[1],E=Object(i.useState)(1),p=Object(r.a)(E,2),g=p[0],f=p[1],b=Object(i.useState)(!1),h=Object(r.a)(b,2),w=h[0],y=h[1],O=Object(c.useQuery)([N.GetBusinesses.name,{page:g,searchTerm:m}],(function(){return N.GetBusinesses({page:g,searchTerm:m})})),j=O.data,L=O.error,S=O.isError,x=O.isLoading,k=O.refetch,z=O.isFetched,P=function(){z||k()};return o.a.createElement(l.m,{className:"ion-padding"},o.a.createElement(l.V,{isOpen:!0===S,message:null!==(e=null===(t=L)||void 0===t?void 0:t.message)&&void 0!==e?e:"Error",duration:3e3,color:"danger"}),o.a.createElement(l.M,{value:m,disabled:x,debounce:800,placeholder:"search by name",onIonChange:function(e){v(e.detail.value),f(1),P()},className:"search-bar-no-box-shadow p-0 mb-md",color:"light"}),o.a.createElement(l.u,{className:"mb-md"},o.a.createElement(l.v,null,o.a.createElement("p",null,m.length>0?"results for '".concat(m.substring(0,15),"'").concat(m.length>15?"...":""):"Showing all items")),o.a.createElement(l.v,{slot:"end"},o.a.createElement(l.e,{color:"primary",size:"default",fill:"solid",className:"ion-text-capitalize",disabled:x,onClick:function(){y(!0)}},o.a.createElement(l.q,{icon:s.a,slot:"start"}),"Add Business"))),x?o.a.createElement(q,null):o.a.createElement(I,{businesses:null===j||void 0===j?void 0:j.data,currentPage:null!==(a=null===j||void 0===j?void 0:j.current_page)&&void 0!==a?a:"...",totalPages:null!==(n=null===j||void 0===j?void 0:j.last_page)&&void 0!==n?n:"...",getNextPage:function(){!x&&(null===j||void 0===j?void 0:j.next_page_url)&&(f((function(e){return e+1})),P())},getPreviousPage:function(){!x&&(null===j||void 0===j?void 0:j.prev_page_url)&&(f((function(e){return e-1})),P())}}),o.a.createElement(C,{onClose:function(){y(!1)},showModal:w}))},z=function(e){var t,a,r,i=e.status,c=e.text;switch(i){case n.PendingVerification:t="warning",r=s.X;break;case n.Unverified:t="danger",r=s.d;break;case n.Verified:t="light",a="success",r=s.h;break;default:t=void 0,a=void 0,r=void 0}return o.a.createElement(l.L,{className:"ion-justify-content-center",color:t},o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.t,{lines:"full"},o.a.createElement(l.q,{icon:r,slot:"start",color:t}),o.a.createElement(l.R,{color:a},null===c||void 0===c||""===c?"Business is in ".concat(i).concat(i===n.Verified?" status, and is available online.":" status, contact us for more help!"):c))))},P=function(e){var t,a,n,r,i,c,u,d,m,v=e.business,E=e.businessContacts,p=e.businessSocials,g=e.showChangeProfileImage,f=E.get("whatsapp"),b=E.get("alternate"),h=E.get("email"),w=p.get("facebook"),O=p.get("instagram"),j=p.get("twitter");return o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeXl:"8",sizeLg:"12",sizeMd:"12",sizeSm:"12"},o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeXl:"4",sizeLg:"12",sizeSm:"12",sizeMd:"12",sizeXs:"12",style:{borderRadius:"12px"}},o.a.createElement(l.T,{style:{width:"156px",height:"156px",margin:"16px auto"}},o.a.createElement(l.r,{alt:"business profile image",style:{borderRadius:"8px"},src:null!==(t=null===v||void 0===v?void 0:v.photoURL)&&void 0!==t?t:y.a.PlaceholderImg})),o.a.createElement(l.e,{expand:"block",color:"primary",fill:"clear",className:"ion-text-capitalize",onClick:function(){return g(!1)}},o.a.createElement(l.q,{icon:s.x,slot:"start"})," Change Photo")),o.a.createElement(l.l,{sizeXl:"8",sizeLg:"12",sizeSm:"12",sizeMd:"12",sizeXs:"12",style:{padding:"16px"}},o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("h3",null,o.a.createElement(l.R,null,null===v||void 0===v?void 0:v.name))),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(l.R,{color:"medium"},"#ID-",null===v||void 0===v?void 0:v.id)),o.a.createElement(l.v,null,o.a.createElement("span",null,null===v||void 0===v?void 0:v.slug))),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(l.R,{color:"medium"},"Category")),o.a.createElement(l.v,null,o.a.createElement("span",null,null!==(a=null===v||void 0===v||null===(n=v.business_category)||void 0===n?void 0:n.title)&&void 0!==a?a:"Category not set"))),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(l.R,{color:"medium"},"Description")),o.a.createElement(l.v,null,o.a.createElement("span",null,null!==(r=null===v||void 0===v?void 0:v.description)&&void 0!==r?r:"-")))),o.a.createElement(l.l,{size:"12",style:{borderRadius:"12px",padding:"16px"}}),o.a.createElement(l.l,{sizeLg:"6",sizeMd:"6",sizeSm:"12",sizeXs:"12",style:{borderRadius:"12px"},className:"ion-justify-content-center"},o.a.createElement(l.u,null,o.a.createElement(l.v,null,o.a.createElement(l.q,{icon:s.z,color:"dark"})," \xa0 Address")),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(l.R,{color:"medium"},"Line 1")),o.a.createElement(l.v,null,o.a.createElement("span",null,null!==(i=null===v||void 0===v?void 0:v.address_line1)&&void 0!==i?i:"-"))),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(l.R,{color:"medium"},"Line 2")),o.a.createElement(l.v,null,o.a.createElement("span",null,null!==(c=null===v||void 0===v?void 0:v.address_line2)&&void 0!==c?c:"-"))),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(l.R,{color:"medium"},"City/Taluka")),o.a.createElement(l.v,null,o.a.createElement("span",null,null!==(u=null===v||void 0===v?void 0:v.address_city)&&void 0!==u?u:"-"))),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(l.R,{color:"medium"},"State")),o.a.createElement(l.v,null,o.a.createElement("span",null,null!==(d=null===v||void 0===v?void 0:v.address_state)&&void 0!==d?d:"-"))),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(l.R,{color:"medium"},"Pincode")),o.a.createElement(l.v,null,o.a.createElement("span",null,null!==(m=null===v||void 0===v?void 0:v.address_pincode)&&void 0!==m?m:"-")))),o.a.createElement(l.l,{sizeLg:"6",sizeMd:"6",sizeSm:"12",sizeXs:"12",style:{borderRadius:"12px"},className:"ion-justify-content-center"},o.a.createElement(l.u,{style:{marginBottom:"16px"}},o.a.createElement(l.v,null,"Other details")),f&&o.a.createElement(l.k,null,o.a.createElement(l.v,null,o.a.createElement(l.q,{icon:s.E,color:"dark"})," \xa0",f)),b&&o.a.createElement(l.k,null,o.a.createElement(l.v,null,o.a.createElement(l.q,{icon:s.f,color:"dark"})," \xa0",b)),h&&o.a.createElement(l.k,null,o.a.createElement(l.v,null,o.a.createElement(l.q,{icon:s.F,color:"dark"})," \xa0",h)),w&&o.a.createElement(l.k,null,o.a.createElement(l.v,null,o.a.createElement(l.q,{icon:s.B,color:"dark"})," \xa0",w)),O&&o.a.createElement(l.k,null,o.a.createElement(l.v,null,o.a.createElement(l.q,{icon:s.C,color:"dark"})," \xa0",O)),j&&o.a.createElement(l.k,null,o.a.createElement(l.v,null,o.a.createElement(l.q,{icon:s.D,color:"dark"})," \xa0",j))))))},A=function(){return o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"4",sizeSm:"12",sizeXs:"12",style:{borderRadius:"12px"}},o.a.createElement(l.T,{style:{width:"200px",height:"200px",margin:"16px auto"}},o.a.createElement(l.P,{animated:!0}))),o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12",sizeXs:"12",style:{padding:"16px"}},o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement(l.P,{animated:!0,style:{width:"70%",height:"24px"}})),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement(l.P,{animated:!0,style:{width:"90%",height:"24px"}})),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement(l.P,{animated:!0,style:{width:"60%",height:"24px"}})),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement(l.P,{animated:!0,style:{width:"60%",height:"24px"}})),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement(l.P,{animated:!0,style:{width:"60%",height:"24px"}})),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement(l.P,{animated:!0,style:{width:"70%",height:"24px"}})),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement(l.P,{animated:!0,style:{width:"60%",height:"24px"}})),o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement(l.P,{animated:!0,style:{width:"70%",height:"24px"}}))),o.a.createElement(l.l,{sizeLg:"12",sizeSm:"12",sizeXs:"12",style:{borderRadius:"12px"},className:"ion-justify-content-center"},o.a.createElement(l.k,null,o.a.createElement(l.P,{animated:!0,style:{width:"200px",height:"24px"}})),o.a.createElement(l.k,null,o.a.createElement(l.P,{animated:!0,style:{width:"70px",height:"24px"}})),o.a.createElement(l.k,null,o.a.createElement(l.P,{animated:!0,style:{width:"150px",height:"24px"}}))))))},_=function(e){var t=e.showModal,a=e.onClose,n=e.businessId,u=e.photoURL,d=Object(i.useState)(null),v=Object(r.a)(d,2),E=v[0],p=v[1],g=Object(i.useState)(null),h=Object(r.a)(g,2),w=h[0],O=h[1],j=Object(i.useState)(!1),L=Object(r.a)(j,2),C=L[0],S=L[1],q=Object(i.useState)(null),x=Object(r.a)(q,2),I=x[0],k=x[1],z=Object(i.useState)(0),P=Object(r.a)(z,2),A=P[0],_=P[1],D=Object(i.useRef)(null),U=Object(c.useMutation)(N.UploadBusinessProfileImage.name,N.UploadBusinessProfileImage),B=function(e){e&&(O(e.errorMessage),e.image&&e.image[0]&&p(e.image[0]),S(!0))},T=function(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){var a;return t(null===(a=e.target)||void 0===a?void 0:a.result)},n.onerror=function(e){return a(e)},n.readAsDataURL(e)}))},R=function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=t.target.files&&t.target.files.length>0)){e.next=11;break}if(!(t.target.files[0].size>8e6)){e.next=6;break}return p("Image file size must be less than 8Mb, please select a different image."),e.abrupt("return");case 6:p(null);case 7:return e.next=9,T(t.target.files[0]);case 9:(a=e.sent)&&k(null===a||void 0===a?void 0:a.toString());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){if(e){var t=e.loaded/e.total;console.log(t),_(t)}};return o.a.createElement(l.C,{isOpen:t,cssClass:"ion-no-border",backdropDismiss:!1},o.a.createElement(l.V,{isOpen:C,message:null!==w&&void 0!==w?w:"Some error occurred",color:"danger",position:"middle",onDidDismiss:function(){S(!1)},duration:5e3}),o.a.createElement(l.m,null,o.a.createElement(l.t,{color:"clear",lines:"none"},o.a.createElement("h4",null,"Update profile image"),o.a.createElement(l.e,{slot:"end",fill:"clear",size:"large",color:"medium",onClick:function(){return a(!1)},disabled:U.isLoading},o.a.createElement(l.q,{icon:s.o}))),o.a.createElement(l.w,null,o.a.createElement(l.t,{lines:"full"},o.a.createElement(l.T,{style:{width:"300px",height:"300px",margin:"16px auto"}},o.a.createElement(l.r,{style:{borderRadius:"8px"},alt:"business profile image",src:null!=I?I:null!==u&&void 0!==u?u:y.a.PlaceholderImg}))),U.isLoading&&o.a.createElement(l.F,{type:A<1?"determinate":"indeterminate",value:A}),E&&o.a.createElement(m,{message:E,className:"self-align-center-horizontal"}),o.a.createElement(l.t,{lines:"full"},o.a.createElement(l.o,null,o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeMd:"4",sizeXs:"12"},o.a.createElement(l.e,{disabled:U.isLoading,color:"primary",fill:"clear",className:"ion-text-capitalize",expand:"block",onClick:function(){var e;null===(e=D.current)||void 0===e||e.click()}},o.a.createElement(l.q,{icon:s.x,slot:"start"}),"Select Photo"),o.a.createElement("input",{hidden:!0,type:"file",ref:D,onChange:R,name:"profile_img",accept:"image/png,image/jpg,image/jpeg,image/webp"}))))))),o.a.createElement(l.n,null,o.a.createElement(l.L,{className:"ion-justify-content-center ion-padding"},I&&o.a.createElement(l.l,{sizeMd:"4",sizeXs:"12"},o.a.createElement(l.e,{onClick:function(){var e,t,s;if(n&&D&&D.current&&(null===(e=D.current)||void 0===e?void 0:e.files)&&(null===(t=D.current)||void 0===t?void 0:t.files[0])){var r={request:{id:n,image:null===(s=D.current)||void 0===s?void 0:s.files[0]},onUploadProgress:M};p(null),O(null),U.mutate(r,{onError:function(e,t,a){var n=y.a.GetAPIErrorObj(e);B(n)},onSuccess:function(e,t,n){var s=y.a.GetAPIDataObj(e);if(s){if(!s.success){var r=y.a.GetAPIErrorObj(e);return console.log(r),void B(r)}a(!0)}}})}},expand:"block",disabled:U.isLoading,fill:"solid"},o.a.createElement(l.q,{icon:s.q,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize self-align-center-horizontal"},"Upload"))))))},D=function(e){var t=e.onHide;return o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.t,{color:"success",detail:!0,detailIcon:s.n,onClick:t},o.a.createElement(l.q,{icon:s.i,slot:"start"}),o.a.createElement(l.v,null,o.a.createElement("h2",null,"Business added successfully"),o.a.createElement("p",null,"Please add remaining details.")))))},U=function(){var e,t,a,n,v,E,g,h,O,j,L,C,S,q,x,I,k,U,B,T,R,M,G,F,V,W=Object(u.g)(),X=W.id,Q=W.newBusiness,H=Object(i.useState)(!1),K=Object(r.a)(H,2),Y=K[0],$=K[1],Z=Object(i.useState)(!1),ee=Object(r.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(i.useState)(!1),se=Object(r.a)(ne,2),re=se[0],le=se[1],ie=Object(i.useState)(!1),oe=Object(r.a)(ie,2),ce=oe[0],ue=oe[1],de=Object(i.useState)(!1),me=Object(r.a)(de,2),ve=me[0],Ee=me[1],pe=Object(i.useState)(!1),ge=Object(r.a)(pe,2),fe=ge[0],be=ge[1],he=Object(i.useState)(!1),we=Object(r.a)(he,2),ye=we[0],Oe=we[1],je=p(),Le=Object(r.a)(je,3),Ne=Le[0],Ce=Le[1],Se=Le[2],qe=Object(i.useState)(),xe=Object(r.a)(qe,2),Ie=xe[0],ke=xe[1],ze=p(),Pe=Object(r.a)(ze,3),Ae=Pe[0],_e=Pe[1],De=Pe[2],Ue=Object(i.useState)(null),Be=Object(r.a)(Ue,2),Te=Be[0],Re=Be[1],Me=Object(i.useState)(new Map),Ge=Object(r.a)(Me,2),Fe=Ge[0],Ve=Ge[1],We=Object(i.useState)(new Map),Xe=Object(r.a)(We,2),Qe=Xe[0],Je=Xe[1],He=Object(c.useQuery)([N.GetBusiness.name,{id:X}],(function(){return N.GetBusiness({id:X})})),Ke=Object(c.useQuery)([w.GetBusinessCategories.name,{}],(function(){return w.GetBusinessCategories({})})),Ye=Object(c.useMutation)(N.UpdateBusiness.name,N.UpdateBusiness),$e=Object(c.useMutation)(N.DeleteBusiness.name,N.DeleteBusiness),Ze=null===(e=He.data)||void 0===e?void 0:e.data,et=N.ConvertToBusinessContacts(null!==(t=null===(a=He.data)||void 0===a||null===(n=a.data.business_details)||void 0===n?void 0:n.contacts)&&void 0!==t?t:"{}"),tt=N.ConvertToBusinessSocials(null!==(v=null===(E=He.data)||void 0===E||null===(g=E.data.business_details)||void 0===g?void 0:g.socials)&&void 0!==v?v:"{}"),at=null===(h=Ke.data)||void 0===h?void 0:h.data,nt=function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y?(Se({}),Ve(new Map),Je(new Map),De({})):(Se(Ze),ke(null===Ze||void 0===Ze?void 0:Ze.business_category),Ve(et),Je(tt)),$(!Y);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(e,t){Ve(null===Fe||void 0===Fe?void 0:Fe.set(e,t))},rt=function(e,t){Je(null===Qe||void 0===Qe?void 0:Qe.set(e,t))},lt=function(e){e&&(Re(e.errorMessage),e.businessName&&e.businessName[0]&&_e("businessName",e.businessName[0]),e.businessDescription&&e.businessDescription[0]&&_e("businessDescription",e.businessDescription[0]),e.businessCategoryId&&e.businessCategoryId[0]&&_e("businessCategoryId",e.businessCategoryId[0]),e.businessAddressLine1&&e.businessAddressLine1[0]&&_e("businessAddressLine1",e.businessAddressLine1[0]),e.businessAddressLine2&&e.businessAddressLine2[0]&&_e("businessAddressLine2",e.businessAddressLine2[0]),e.businessAddressCity&&e.businessAddressCity[0]&&_e("businessAddressCity",e.businessAddressCity[0]),e.businessAddressState&&e.businessAddressState[0]&&_e("businessAddressState",e.businessAddressState[0]),e.businessAddressPincode&&e.businessAddressPincode[0]&&_e("businessAddressPincode",e.businessAddressPincode[0]),e.businessContacts&&e.businessContacts[0]&&_e("businessContacts",e.businessContacts[0]),e.businessSocials&&e.businessSocials[0]&&_e("businessSocials",e.businessSocials[0]),ae(!0))},it=function(){var e;De({});var t={businessId:Ne.id,businessName:null===Ne||void 0===Ne?void 0:Ne.name,businessDescription:null===Ne||void 0===Ne?void 0:Ne.description,businessCategoryId:null===Ie||void 0===Ie?void 0:Ie.id.toString(),businessAddressLine1:null===Ne||void 0===Ne?void 0:Ne.address_line1,businessAddressLine2:null===Ne||void 0===Ne?void 0:Ne.address_line2,businessAddressCity:null===Ne||void 0===Ne?void 0:Ne.address_city,businessAddressState:null===Ne||void 0===Ne?void 0:Ne.address_state,businessAddressPincode:null===Ne||void 0===Ne||null===(e=Ne.address_pincode)||void 0===e?void 0:e.toString(),businessContacts:JSON.stringify(N.MapBusinessDetailsToJson(Fe)),businessSocials:JSON.stringify(N.MapBusinessDetailsToJson(Qe))};Ye.mutate(t,{onError:function(e,t,a){var n=y.a.GetAPIErrorObj(e);lt(n)},onSuccess:function(e,t,a){var n=y.a.GetAPIDataObj(e);if(n)if(n.success)$(!1),le(!0),He.refetch();else{var s=y.a.GetAPIErrorObj(e);lt(s)}}})},ot=function(e){Oe(!ye),e&&He.refetch()};return Ze||He.isLoading?o.a.createElement(l.m,null,(Ye.isLoading||He.isLoading)&&o.a.createElement(l.F,{type:"indeterminate"}),!Y&&void 0===Q&&o.a.createElement(z,{status:N.ConvertToBusinessVerificationStatus(null!==(O=null===Ze||void 0===Ze?void 0:Ze.business_status_id)&&void 0!==O?O:0)}),void 0!==Q&&(null===Q||void 0===Q?void 0:Q.length)>1&&!ve&&o.a.createElement(D,{onHide:function(){Ee(!0)}}),o.a.createElement(l.y,{isOpen:Ye.isLoading,message:"Saving details, please wait..."}),o.a.createElement(l.y,{isOpen:$e.isLoading,message:"Deleting details, please wait..."}),o.a.createElement(l.V,{isOpen:te,message:null!==Te&&void 0!==Te?Te:"Some error occurred while saving business.",color:"danger",position:"top",onDidDismiss:function(){return ae(!1)},duration:5e3}),o.a.createElement(l.V,{isOpen:re,message:"Business updated successfully.",color:"success",position:"top",onDidDismiss:function(){return le(!1)},duration:4e3}),o.a.createElement(l.V,{isOpen:ce,message:"Business deleted successfully.",color:"success",position:"top",onDidDismiss:function(){return le(!1)},duration:3e3}),o.a.createElement(l.o,null,!Y&&o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(l.e,{fill:"clear",color:"dark",routerLink:J.url},o.a.createElement(l.q,{icon:s.b,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Back"))),o.a.createElement(l.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(l.e,{color:"warning",onClick:nt,className:"ion-float-right",disabled:He.isLoading},o.a.createElement(l.q,{icon:s.K,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Edit Business")))),!Y&&He.isLoading&&o.a.createElement(A,null),!Y&&!He.isLoading&&o.a.createElement(P,{business:Ze,businessContacts:et,businessSocials:tt,showChangeProfileImage:ot}),!Y&&!He.isLoading&&ye&&o.a.createElement(_,{businessId:null===Ze||void 0===Ze?void 0:Ze.id,onClose:ot,showModal:ye,photoURL:null===Ze||void 0===Ze?void 0:Ze.photoURL}),Y&&o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(l.e,{color:"light",onClick:nt,disabled:He.isLoading||Ye.isLoading},o.a.createElement(l.q,{icon:s.o,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Cancel Edit"))),o.a.createElement(l.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(l.e,{className:"ion-float-right",onClick:it,disabled:He.isLoading||Ye.isLoading},o.a.createElement(l.q,{icon:s.Q,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Save Information")))),Y&&o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.w,null,o.a.createElement(l.u,null,o.a.createElement(l.v,null,"Business main details"),o.a.createElement(l.v,{slot:"end"},"#ID-",null===Ze||void 0===Ze?void 0:Ze.id," \xa0")),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},"Name"),o.a.createElement(l.s,{readonly:!Y||He.isLoading,placeholder:"full business name",required:!0,maxlength:150,value:null!==(j=null===Ne||void 0===Ne?void 0:Ne.name)&&void 0!==j?j:null===Ze||void 0===Ze?void 0:Ze.name,onIonChange:function(e){return Ce("name",e.detail.value)}})),o.a.createElement(m,{message:Ae.businessName}),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},"Description"),o.a.createElement(l.S,{value:null!==(L=null===Ne||void 0===Ne?void 0:Ne.description)&&void 0!==L?L:null===Ze||void 0===Ze?void 0:Ze.description,onIonChange:function(e){return Ce("description",e.detail.value)},autoGrow:!0,spellcheck:!0,readonly:!Y||He.isLoading,maxlength:300,style:{minHeight:"48px"},placeholder:"business description such as, product or  services offered, or say something about your business",required:!0})),o.a.createElement(m,{message:Ae.businessDescription}),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},"Category"),o.a.createElement(l.N,{placeholder:"Select category",onIonChange:function(e){ke(e.detail.value)},value:null!==Ie&&void 0!==Ie?Ie:null===Ze||void 0===Ze?void 0:Ze.business_category,compareWith:function(e,t){return e&&t?e.id===t.id:e===t},disabled:!Y||He.isLoading||Ke.isLoading,selectedText:null!==(C=null!==(S=null===Ie||void 0===Ie?void 0:Ie.title)&&void 0!==S?S:null===Ze||void 0===Ze||null===(q=Ze.business_category)||void 0===q?void 0:q.title)&&void 0!==C?C:"None"},null===at||void 0===at?void 0:at.map((function(e,t){return o.a.createElement(l.O,{key:t,value:e},e.title)})))),o.a.createElement(m,{message:Ae.businessCategoryId}))),o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.w,null,o.a.createElement(l.u,null,o.a.createElement(l.v,null,"Business Contact details")),o.a.createElement(m,{message:Ae.businessContacts}),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},o.a.createElement(l.q,{icon:s.E,slot:"start"})," WhatsApp Number (need verification)"),o.a.createElement(l.s,{value:null!==(x=null===Fe||void 0===Fe?void 0:Fe.get("whatsapp"))&&void 0!==x?x:et.get("whatsapp"),onIonChange:function(e){return st("whatsapp",e.detail.value)},readonly:!Y||He.isLoading,type:"tel",inputmode:"tel",pattern:"tel",placeholder:"main contact number",required:!0,maxlength:20})),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},o.a.createElement(l.q,{icon:s.f,slot:"start"})," Alternate Contact Number"),o.a.createElement(l.s,{value:null!==(I=null===Fe||void 0===Fe?void 0:Fe.get("alternate"))&&void 0!==I?I:et.get("alternate"),onIonChange:function(e){return st("alternate",e.detail.value)},readonly:!Y||He.isLoading,type:"tel",inputmode:"tel",pattern:"tel",placeholder:"optional contact number",required:!0,maxlength:20})),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},o.a.createElement(l.q,{icon:s.F,slot:"start"})," Email"),o.a.createElement(l.s,{value:null!==(k=null===Fe||void 0===Fe?void 0:Fe.get("email"))&&void 0!==k?k:et.get("email"),onIonChange:function(e){return st("email",e.detail.value)},readonly:!Y||He.isLoading,type:"email",inputmode:"email",pattern:"email",placeholder:"email address",required:!0,maxlength:150})))),o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.w,null,o.a.createElement(l.u,null,o.a.createElement(l.v,null,"Business Address details")),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},"Address"),o.a.createElement(l.s,{value:null!==(U=null===Ne||void 0===Ne?void 0:Ne.address_line1)&&void 0!==U?U:null===Ze||void 0===Ze?void 0:Ze.address_line1,onIonChange:function(e){return Ce("address_line1",e.detail.value)},readonly:!Y||He.isLoading,placeholder:"Address line 1",required:!0,maxlength:120}),o.a.createElement(d,{message:Ae.businessAddressLine1}),o.a.createElement(l.s,{value:null!==(B=null===Ne||void 0===Ne?void 0:Ne.address_line2)&&void 0!==B?B:null===Ze||void 0===Ze?void 0:Ze.address_line2,onIonChange:function(e){return Ce("address_line2",e.detail.value)},readonly:!Y||He.isLoading,placeholder:"Address line 2",required:!0,maxlength:80}),o.a.createElement(d,{message:Ae.businessAddressLine2}),o.a.createElement(l.s,{value:null!==(T=null===Ne||void 0===Ne?void 0:Ne.address_city)&&void 0!==T?T:null===Ze||void 0===Ze?void 0:Ze.address_city,onIonChange:function(e){return Ce("address_city",e.detail.value)},readonly:!Y||He.isLoading,placeholder:"City/Taluka",required:!0,maxlength:50}),o.a.createElement(d,{message:Ae.businessAddressCity}),o.a.createElement(l.s,{value:null!==(R=null===Ne||void 0===Ne?void 0:Ne.address_state)&&void 0!==R?R:null===Ze||void 0===Ze?void 0:Ze.address_state,onIonChange:function(e){return Ce("address_state",e.detail.value)},readonly:!Y||He.isLoading,placeholder:"State",required:!0,maxlength:40}),o.a.createElement(d,{message:Ae.businessAddressState}),o.a.createElement(l.s,{value:null!==(M=null===Ne||void 0===Ne?void 0:Ne.address_pincode)&&void 0!==M?M:null===Ze||void 0===Ze?void 0:Ze.address_pincode,onIonChange:function(e){return Ce("address_pincode",e.detail.value)},readonly:!Y||He.isLoading,placeholder:"Pincode",required:!0,maxlength:10}),o.a.createElement(d,{message:Ae.businessAddressPincode})))),o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.w,null,o.a.createElement(l.u,null,o.a.createElement(l.v,null,"Business Social details")),Ae.businessSocials&&o.a.createElement(l.t,null,o.a.createElement(l.R,{color:"danger"}," ",Ae.businessSocials)),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},o.a.createElement(l.q,{icon:s.B,slot:"start"})," Facebook Page/Profile URL"),o.a.createElement(l.s,{value:null!==(G=null===Qe||void 0===Qe?void 0:Qe.get("facebook"))&&void 0!==G?G:tt.get("facebook"),onIonChange:function(e){return rt("facebook",e.detail.value)},readonly:!Y||He.isLoading,type:"url",inputmode:"url",pattern:"url",placeholder:"https://www.facebook.com/your_username/"})),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},o.a.createElement(l.q,{icon:s.C,slot:"start"})," Instagram Page/Profile URL"),o.a.createElement(l.s,{value:null!==(F=null===Qe||void 0===Qe?void 0:Qe.get("instagram"))&&void 0!==F?F:tt.get("instagram"),onIonChange:function(e){return rt("instagram",e.detail.value)},readonly:!Y||He.isLoading,type:"url",inputmode:"url",pattern:"url",placeholder:"https://www.instagram.com/your_username/"})),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},o.a.createElement(l.q,{icon:s.D,slot:"start"})," Twitter Page/Profile URL"),o.a.createElement(l.s,{value:null!==(V=null===Qe||void 0===Qe?void 0:Qe.get("twitter"))&&void 0!==V?V:tt.get("twitter"),onIonChange:function(e){return rt("twitter",e.detail.value)},readonly:!Y||He.isLoading,type:"url",inputmode:"url",pattern:"url",placeholder:"https://twitter.com/your_username/"}))))),!Y&&o.a.createElement(l.L,{className:"ion-justify-content-center mv-md",style:{marginTop:"100px"}},o.a.createElement(l.l,{sizeLg:"2",sizeSm:"2",className:"ion-text-center"},o.a.createElement(l.e,{color:"danger",fill:"clear",className:"mv-md",disabled:He.isLoading,onClick:function(){return be(!0)}},o.a.createElement(l.q,{icon:s.W,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Delete Business")))),Y&&o.a.createElement(l.L,{className:"mv-md ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(l.e,{color:"light",onClick:nt,disabled:He.isLoading||Ye.isLoading},o.a.createElement(l.q,{icon:s.o,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Cancel Edit"))),o.a.createElement(l.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(l.e,{className:"ion-float-right",onClick:it,disabled:He.isLoading||Ye.isLoading},o.a.createElement(l.q,{icon:s.Q,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Save Information")))),o.a.createElement(l.a,{isOpen:fe,header:"Delete Business",subHeader:"Are you sure you want to delete this business ?",onDidDismiss:function(e){be(!1)},inputs:[{name:"delete_business",type:"checkbox",label:"I agree to delete.",value:"delete",checked:!1}],buttons:[{text:"Cancel",role:"cancel",handler:function(){console.log("Confirm Cancel")}},{text:"Delete",cssClass:"ion-color-danger",handler:function(e){console.log("Delete",e[0]),e&&"delete"===e[0]&&(null===Ze||void 0===Ze?void 0:Ze.id)&&$e.mutate({id:null===Ze||void 0===Ze?void 0:Ze.id},{onError:function(e,t,a){var n=y.a.GetAPIErrorObj(e);lt(n)},onSuccess:function(e,t,a){var n=y.a.GetAPIDataObj(e);if(n)if(n.success)ue(!0),He.refetch();else{var s=y.a.GetAPIErrorObj(e);lt(s)}}})}}]}))):o.a.createElement(l.m,null,!He.isLoading&&o.a.createElement(l.t,null,o.a.createElement(l.v,null," No business found. "),o.a.createElement(l.J,{routerLink:J.url,routerDirection:"root"},"Go back to business listing")))},B=a(36),T=function(e){var t,a=e.showWelcomeModal,n=e.user,r=e.onClose;return o.a.createElement(l.C,{isOpen:a,cssClass:"ion-no-border",backdropDismiss:!1},o.a.createElement(l.m,null,o.a.createElement("div",{className:"ion-padding"},o.a.createElement(l.c,{className:"rounded-border h-20vh w-100p"},o.a.createElement(l.r,{src:"https://miro.medium.com/max/3826/1*5OCAmSENWSMzcRs6FpVjvw.png"})),o.a.createElement("div",{className:"ion-padding"},o.a.createElement("h1",null,"Hello ",null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:null===n||void 0===n?void 0:n.phone_number,"!"),o.a.createElement("p",null,"Welcome to Profalo Business Dashboard. Before you start managing your business online, lets complete few remaining things first.")),o.a.createElement(l.w,{lines:"full",className:"ion-padding"},o.a.createElement(l.t,null,o.a.createElement(l.q,{icon:s.i,color:"success",slot:"start"}),o.a.createElement(l.v,null,o.a.createElement("h3",null,"Account Created"))),o.a.createElement(l.t,null,o.a.createElement(l.q,{icon:s.Y,color:"warning",slot:"start"}),o.a.createElement(l.v,null,o.a.createElement("h3",null,"Update Profile details")))),o.a.createElement("div",{className:"ion-padding ion-align-item-center"},o.a.createElement(l.e,{onClick:r,className:"ion-text-capitalize",routerLink:Y.url,routerDirection:"root"},"Update Profile")))))},R=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(i.useContext)(B.a).userState;return Object(i.useEffect)((function(){var e;(null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.verified)||n(!0)}),[]),o.a.createElement(l.m,{className:"ion-padding"},o.a.createElement(l.o,null,o.a.createElement(l.L,null,o.a.createElement(l.l,{size:"12",sizeLg:"4"},o.a.createElement(M,{imgSrc:"https://miro.medium.com/max/3826/1*5OCAmSENWSMzcRs6FpVjvw.png",title:"Manage Business Listing",content:"Add, update and share your Business details online.",url:J.url})),o.a.createElement(l.l,{size:"12",sizeLg:"4"},o.a.createElement(M,{imgSrc:"https://miro.medium.com/max/3826/1*5OCAmSENWSMzcRs6FpVjvw.png",title:"Manage Product Listing",content:"Add, update and showcase your Products online.",url:K.url})),o.a.createElement(l.l,{size:"12",sizeLg:"4"},o.a.createElement(M,{imgSrc:"https://miro.medium.com/max/3826/1*5OCAmSENWSMzcRs6FpVjvw.png",title:"Update Profile",content:"Update your profile details like name and contact.",url:Y.url})))),o.a.createElement(T,{user:null===s||void 0===s?void 0:s.user,showWelcomeModal:a,onClose:function(){n(!1)}}))},M=function(e){var t=e.imgSrc,a=e.title,n=e.content,s=e.url,r=e.onClick;return o.a.createElement(l.g,{button:!0,onClick:function(){return!s&&r&&r()},routerLink:s,routerDirection:"root"},o.a.createElement("img",{alt:"Update profile",src:t}),o.a.createElement(l.i,null,o.a.createElement(l.j,null,a)),o.a.createElement(l.h,null,n))},G=function(){return o.a.createElement(l.m,null,o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.w,null,o.a.createElement(S,{message:"No notification found yet"})))))},F=function(){return o.a.createElement(l.m,{className:"ion-padding"},o.a.createElement("div",{style:{margin:"200px auto",width:"200px"}},o.a.createElement("h1",null,"Coming soon...")))},V=a(46),W=function(){var e,t,a,n=Object(i.useContext)(B.a),u=n.auth,d=n.userState,v=Object(i.useState)(!1),E=Object(r.a)(v,2),p=E[0],g=E[1],h=Object(c.useMutation)(V.a.UpdateUserData.name,V.a.UpdateUserData),w=Object(i.useState)(""),O=Object(r.a)(w,2),j=O[0],L=O[1],N=Object(i.useState)(""),C=Object(r.a)(N,2),S=C[0],q=C[1],x=Object(i.useState)(null),I=Object(r.a)(x,2),k=I[0],z=I[1],P=Object(i.useState)(null),A=Object(r.a)(P,2),_=A[0],D=A[1],U=Object(i.useState)(null),T=Object(r.a)(U,2),R=T[0],M=T[1],G=Object(i.useState)(!1),F=Object(r.a)(G,2),W=F[0],X=F[1],Q=Object(i.useState)(!1),J=Object(r.a)(Q,2),H=J[0],K=J[1],Y=function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(null!==(t=null===d||void 0===d||null===(a=d.user)||void 0===a?void 0:a.name)&&void 0!==t?t:""),q(null===d||void 0===d||null===(n=d.user)||void 0===n?void 0:n.contact_email),g(!p),$();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){z(null),D(null)},Z=function(e){e&&(M(e.errorMessage),e.userName&&e.userName[0]&&z(e.userName[0]),e.contactEmail&&e.contactEmail[0]&&D(e.contactEmail[0]),X(!0))};return o.a.createElement(l.m,null,h.isLoading&&o.a.createElement(l.F,{type:"indeterminate"}),o.a.createElement(l.V,{isOpen:W,message:null!==R&&void 0!==R?R:"Some error occurred while saving profile.",color:"danger",position:"top",onDidDismiss:function(){return X(!1)},duration:2e3}),o.a.createElement(l.V,{isOpen:H,message:"Profile updated successfully.",color:"success",position:"top",onDidDismiss:function(){return K(!1)},duration:1400}),o.a.createElement(l.o,null,!p&&o.a.createElement(l.L,{className:"mv-md ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.e,{color:"warning",onClick:Y,className:"ion-float-right"},o.a.createElement(l.q,{icon:s.K,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Edit Profile")))),o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.w,null,o.a.createElement(l.u,null,o.a.createElement(l.v,null,"Profile details")),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},o.a.createElement(l.q,{icon:s.f,slot:"start"})," Login Phone Number (need verification)"),o.a.createElement(l.s,{value:null===d||void 0===d||null===(e=d.user)||void 0===e?void 0:e.phone_number,disabled:!0,type:"tel",inputmode:"tel",pattern:"tel",placeholder:"main contact number",required:!0,maxlength:20})),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},"Name"),o.a.createElement(l.s,{value:p?j:null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.name,readonly:!p&&!h.isLoading,onIonChange:function(e){return L(e.detail.value)},placeholder:"your full name",required:!0})),o.a.createElement(m,{message:k})))),o.a.createElement(l.L,{className:"ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(l.w,null,o.a.createElement(l.u,null,o.a.createElement(l.v,null,"Other details")),o.a.createElement(l.t,null,o.a.createElement(l.v,{position:"stacked"},o.a.createElement(l.q,{icon:s.F,slot:"start"}),"Email (need verification)"),o.a.createElement(l.s,{value:p?S:null===d||void 0===d||null===(a=d.user)||void 0===a?void 0:a.contact_email,readonly:!p&&!h.isLoading,type:"email",inputmode:"email",pattern:"email",onIonChange:function(e){return q(e.detail.value)},placeholder:"your email",required:!0})),o.a.createElement(m,{message:_})))),!p&&o.a.createElement(l.L,{className:"ion-justify-content-center mv-md",style:{marginTop:"100px"}},o.a.createElement(l.l,{sizeLg:"2",sizeSm:"2",className:"ion-text-center"},o.a.createElement(l.e,{fill:"clear",className:"mv-md",onClick:null===u||void 0===u?void 0:u.singOut},o.a.createElement(l.q,{icon:s.A,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Sign-out")))),p&&o.a.createElement(l.L,{className:"mv-md ion-justify-content-center"},o.a.createElement(l.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(l.e,{color:"light",onClick:Y,disabled:h.isLoading},o.a.createElement(l.q,{icon:s.o,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Cancel Edit"))),o.a.createElement(l.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(l.e,{className:"ion-float-right",onClick:function(){$(),h.mutate({userName:j,contactEmail:S},{onError:function(e,t,a){var n=y.a.GetAPIErrorObj(e);Z(n)},onSuccess:function(e,t,a){var n=y.a.GetAPIDataObj(e);if(n)if(n.success)null===d||void 0===d||d.setLocalUser(n.data),g(!1),K(!0);else{var s=y.a.GetAPIErrorObj(e);console.log(s),Z(s)}}})},disabled:h.isLoading},o.a.createElement(l.q,{icon:s.Q,slot:"start"}),o.a.createElement(l.v,{className:"ion-text-capitalize"},"Save Infomation"))))))};a.d(t,"a",(function(){return X})),a.d(t,"d",(function(){return Q})),a.d(t,"b",(function(){return J})),a.d(t,"i",(function(){return H})),a.d(t,"h",(function(){return K})),a.d(t,"f",(function(){return Y})),a.d(t,"g",(function(){return $})),a.d(t,"e",(function(){return ee})),a.d(t,"c",(function(){return te}));var X="/myprofalo",Q={title:"Dashboard",url:X+"/dashboard",iosIcon:s.v,mdIcon:s.w,requireAuth:!0,component:R},J={title:"Business Listing",url:X+"/business",iosIcon:s.T,mdIcon:s.U,requireAuth:!0,component:k},H={title:"View-Edit Business Details",url:X+"/business/:id/:newBusiness?",iosIcon:s.T,mdIcon:s.U,requireAuth:!0,hideInMenu:!0,component:U},K={title:"Product Listing",url:X+"/product",iosIcon:s.r,mdIcon:s.s,requireAuth:!0,component:F},Y={title:"My Profile",url:X+"/profile",iosIcon:s.M,mdIcon:s.N,requireAuth:!0,component:W},$={title:"Notifications",url:X+"/notifications",iosIcon:s.I,mdIcon:s.J,requireAuth:!0,component:G},Z=[Q,J,H,K,Y,$],ee=function(e){return Z.find((function(t){return t.url===e}))},te=Z.filter((function(e){return!e.hideInMenu}));t.j=Z},36:function(e,t,a){"use strict";var n=a(0),s=a.n(n),r=a(5),l=a(46),i=a(8),o=a(42),c=function(e){var t=Object(n.useState)(),a=Object(r.a)(t,2),s=a[0],c=(a[1],Object(n.useState)()),u=Object(r.a)(c,2),d=u[0],m=(u[1],Object(n.useState)(!1)),v=Object(r.a)(m,2),E=v[0],p=v[1],g=function(t,a){if(p(!0),i.a.IsWeb())l.a.SignIn({phoneNumber:t,refreshToken:a}).then((function(t){var a=i.a.GetAPIDataObj(t);if(!a)throw new Error("Something went wrong, please try again");e.setLocalUser(a.data),p(!1)})).catch((function(t){e.setLocalUser(null),p(!1)}));else e.getLocalUser()};return{isAuthenticated:function(){var t=null!=e.getLocalUser();return t},isLoading:E,error:s,message:d,trySignIn:function(){p(!0),o.a.auth().onAuthStateChanged((function(e){e&&e.phoneNumber&&e.refreshToken?g(e.phoneNumber,e.refreshToken):p(!1)}))},singOut:function(){p(!0),e.setLocalUser(null),l.a.SignOut().then((function(e){if(!i.a.GetAPIDataObj(e))throw new Error("Something went wrong, please try again");p(!1)})).catch((function(t){e.setLocalUser(null),p(!1)})),o.a.auth().signOut()}}},u=a(54),d=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)([]),i=Object(r.a)(l,2),o=i[0],c=i[1],d=Object(n.useState)(""),m=Object(r.a)(d,2),v=m[0],E=m[1],p=Object(n.useState)(!1),g=Object(r.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(!0),w=Object(r.a)(h,2),y=w[0],O=w[1];return{unreadCount:a,notifications:o,hasNext:y,error:v,isLoading:f,getNotificationsNextPage:function(e){b(!0),!1!==y?setTimeout((function(){var t=[{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1}];t=[].concat(Object(u.a)(o),Object(u.a)(t)),c(t),s(null),O(!0),E(""),e&&e(),b(!1)}),2e3):b(!1)},getUnreadReadCount:function(){f||(b(!0),setTimeout((function(){s(2),b(!1)}),3e3))}}},m=localStorage,v=function(){i.a.IsWeb();return{setItem:function(e,t){m.setItem(e,JSON.stringify(t))},getItem:function(e){var t=m.getItem(e);return null==t?null:JSON.parse(t)}}},E=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),a=t[0],s=t[1];return{getLocalUser:function(){var e=null,t=v().getItem("localUser");return null!=t&&(e=t),e},setLocalUser:function(e){v().setItem("localUser",e),s(e)},user:a}};a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return g}));var p=Object(n.createContext)({}),g=function(e){var t=e.children,a={};return a.userState=E(),a.auth=c(a.userState),a.notificationState=d(),Object(n.useEffect)((function(){var e;null===(e=a.auth)||void 0===e||e.trySignIn()}),[]),s.a.createElement(p.Provider,{value:a},t)}},42:function(e,t,a){"use strict";var n=a(9);a(85);t.a=n.a},46:function(e,t,a){"use strict";var n=a(7),s=a.n(n),r=a(41),l=a(15),i=a(8),o=a(26),c=i.a.WithAppURL("/sanctum/csrf-cookie"),u=i.a.WithAppURL("/myprofalo/signin"),d=i.a.WithAppURL("/myprofalo/signout"),m=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.rawAxios.get(c);case 2:return l=null!==(a=null===(n=document.querySelector("[name=_token]"))||void 0===n?void 0:n.value)&&void 0!==a?a:"",e.abrupt("return",o.a.rawAxios.post(u,Object(r.a)(Object(r.a)({},t),{},{_token:l})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.httpClient.get("merchant-user"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.rawAxios.get(d));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){var t,a,n={success:!0,request:null};if(!e)return n.success=!1,n.message="Something went wrong, please try again later.",n;if(i.a.StrIsFalsy(e.userName))return n.success=!1,n.message="Name is required",n.error={userName:[n.message]},n;(n.request={userName:e.userName.trim()},i.a.StrIsFalsy(e.contactEmail))||(n.request.contactEmail=null===(t=e.contactEmail)||void 0===t?void 0:t.trim());i.a.StrIsFalsy(e.contactNumber)||(n.request.contactNumber=null===(a=e.contactNumber)||void 0===a?void 0:a.trim());return n},g={SignIn:m,GetUserData:v,UpdateUserData:function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=p(t)).success){e.next=3;break}return e.abrupt("return",i.a.CreateAPIResponseObj(a));case 3:return e.abrupt("return",o.a.httpClient.put("merchant-user",a.request));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),SignOut:E};t.a=g},53:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(41),s=a(14),r=new function e(){var t=this;Object(s.a)(this,e),this._config=void 0,this.appInit=function(e){var a=JSON.parse(e),s=a.APP_URL.endsWith("/")?a.APP_URL.slice(0,-1):a.APP_URL+"";t._config={APP_URL:s,firebase:Object(n.a)({},a.firebaseConfig)}},this.get=function(){return t._config},this._config={APP_URL:"",firebase:{}}}},8:function(e,t,a){"use strict";var n=a(1),s=a(53),r={StrIsFalsy:function(e){return null===e||void 0===e||0===e.trim().length},IsWeb:function(){return Object(n.fb)("desktop")||Object(n.fb)("mobileweb")},GetAPIErrorObj:function(e){return e&&e.data&&!e.data.success?e.data.error:e&&e.response&&e.response.data?e.response.data.error?e.response.data.error:e.response.data.message?{errorMessage:e.response.data.message.includes("Exception")?"Some error occurred at server.":e.response.data.message}:void 0:null},GetAPIDataObj:function(e){return e&&e.data?e.data:null},CreateAPIResponseObj:function(e){return{data:e}},PlaceholderImg:"https://profalo.in/img/default_image.png",ToggleUITheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark",t=window.matchMedia("(prefers-color-scheme: dark)");document.body.classList.toggle("dark","light"!==e&&t.matches)},ChangeLocation:function(e){window.location.replace(e)},WithAppURL:function(e){return e=e.startsWith("/")?e:"/"+e,s.a.get().APP_URL+e},ENV_IS_LOCAL:function(){return"127.0.0.1"===window.location.hostname}};t.a=r}},[[106,3,4]]]);