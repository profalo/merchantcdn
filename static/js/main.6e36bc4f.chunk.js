(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[1],{106:function(e,t,a){e.exports=a(160)},112:function(e,t,a){var n={"./ion-action-sheet.entry.js":[164,5],"./ion-alert.entry.js":[165,6],"./ion-app_8.entry.js":[166,7],"./ion-avatar_3.entry.js":[167,17],"./ion-back-button.entry.js":[168,18],"./ion-backdrop.entry.js":[169,44],"./ion-button_2.entry.js":[170,19],"./ion-card_5.entry.js":[171,20],"./ion-checkbox.entry.js":[172,21],"./ion-chip.entry.js":[173,22],"./ion-col_3.entry.js":[174,45],"./ion-datetime_3.entry.js":[175,10],"./ion-fab_3.entry.js":[176,23],"./ion-img.entry.js":[177,46],"./ion-infinite-scroll_2.entry.js":[178,47],"./ion-input.entry.js":[179,24],"./ion-item-option_3.entry.js":[180,25],"./ion-item_8.entry.js":[181,26],"./ion-loading.entry.js":[182,27],"./ion-menu_3.entry.js":[183,28],"./ion-modal.entry.js":[184,8],"./ion-nav_2.entry.js":[185,14],"./ion-popover.entry.js":[186,9],"./ion-progress-bar.entry.js":[187,29],"./ion-radio_2.entry.js":[188,30],"./ion-range.entry.js":[189,31],"./ion-refresher_2.entry.js":[190,11],"./ion-reorder_2.entry.js":[191,16],"./ion-ripple-effect.entry.js":[192,48],"./ion-route_4.entry.js":[193,32],"./ion-searchbar.entry.js":[194,33],"./ion-segment_2.entry.js":[195,34],"./ion-select_3.entry.js":[196,35],"./ion-slide_2.entry.js":[197,49],"./ion-spinner.entry.js":[198,13],"./ion-split-pane.entry.js":[199,50],"./ion-tab-bar_2.entry.js":[200,36],"./ion-tab_2.entry.js":[201,15],"./ion-text.entry.js":[202,37],"./ion-textarea.entry.js":[203,38],"./ion-toast.entry.js":[204,39],"./ion-toggle.entry.js":[205,12],"./ion-virtual-scroll.entry.js":[206,51]};function s(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return a.e(t[1]).then((function(){return a(s)}))}s.keys=function(){return Object.keys(n)},s.id=112,e.exports=s},114:function(e,t,a){var n={"./ion-icon.entry.js":[208,58]};function s(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return a.e(t[1]).then((function(){return a(s)}))}s.keys=function(){return Object.keys(n)},s.id=114,e.exports=s},125:function(e,t,a){},126:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},153:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(44),i=a.n(r),l=a(1),o=(a(115),a(116),a(117),a(118),a(119),a(120),a(121),a(122),a(123),a(124),a(125),a(126),a(33)),c=a(19),u=a(28),d=(a(149),function(e){var t=e.location,a=e.appPage;return s.a.createElement(l.D,{autoHide:!1},s.a.createElement(l.v,{className:t.pathname===a.url?"selected":"",routerLink:a.url,routerDirection:"root",lines:"none",detail:!1},s.a.createElement(l.q,{slot:"start",ios:a.iosIcon,md:a.mdIcon}),s.a.createElement(l.x,null,a.title)))}),m=function(){var e,t,a=Object(c.f)(),r=Object(n.useContext)(o.a).userState;return s.a.createElement(l.B,{contentId:"main",type:"overlay"},s.a.createElement(l.m,null,s.a.createElement(l.y,{id:"inbox-list"},s.a.createElement(l.L,{key:1,className:"ion-margin-bottom"},s.a.createElement(l.l,{size:"3"},s.a.createElement(l.c,null,s.a.createElement("img",{alt:"user-icon",src:"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y"}))),s.a.createElement(l.l,null,s.a.createElement(l.z,null,null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.name),s.a.createElement(l.F,null,null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.phone_number))),u.c.map((function(e,t){return s.a.createElement(d,{key:t,appPage:e,location:a})})))))},v=a(68),g=(a(150),a(5)),E=a(2),p=(a(151),function(e){var t=e.isLoading,a=e.notificationCount;return s.a.createElement(l.e,{disabled:t,routerLink:u.g.url,routerDirection:"root"},s.a.createElement(l.q,{slot:"start",icon:E.F}),!t&&a>0&&s.a.createElement(l.d,{slot:"end",color:"danger"},a>9?"9+":a))}),f=function(e){var t=e.id,a=e.children,r=Object(c.f)(),i=Object(n.useState)(""),o=Object(g.a)(i,2),d=o[0],m=o[1];return Object(n.useEffect)((function(){var e;m(null===(e=Object(u.e)(r.pathname))||void 0===e?void 0:e.title)}),[r]),s.a.createElement(l.G,{id:t},s.a.createElement(l.p,null,s.a.createElement(l.W,null,s.a.createElement(l.f,{slot:"start"},s.a.createElement(l.C,null)),s.a.createElement(l.U,null,d),r.pathname!==u.g.url&&s.a.createElement(l.f,{slot:"secondary"},s.a.createElement(p,{notificationCount:999})))),s.a.createElement(l.m,null,a))},b=a(42),h=(a(152),function(e){var t=e.title,a=e.showModal,r=e.onClose,i=Object(n.useRef)(null),o=Object(n.useState)(null),c=Object(g.a)(o,2),u=c[0],d=c[1],m=Object(n.useState)(!1),v=Object(g.a)(m,2),p=v[0],f=v[1],h=function(e){d(null),f(!0)},y=function(){if(i.current){var e=window.firebaseAuthUI;e.reset();var t=function(e){return{popupMode:!1,signInOptions:[{provider:b.a.auth.PhoneAuthProvider.PROVIDER_ID,defaultCountry:"IN",whitelistedCountries:["IN","US"]}],tosUrl:"https://profalo.in/terms/",privacyPolicyUrl:"https://profalo.in/privacy/",callbacks:e}}({signInFailure:h});e.start(i.current,t)}};return Object(n.useEffect)((function(){y()}),[a]),s.a.createElement(l.E,{mode:"ios",isOpen:a,cssClass:"ion-no-border",backdropDismiss:!1},s.a.createElement(l.V,{isOpen:p,message:null!==u&&void 0!==u?u:"Some error occurred",color:"danger",position:"top",onDidDismiss:function(){return f(!1)},duration:5e3}),s.a.createElement(l.m,null,s.a.createElement(l.v,{color:"clear",lines:"none"},s.a.createElement("h2",{style:{paddingLeft:"16px"}},t),s.a.createElement(l.e,{slot:"end",fill:"clear",size:"large",color:"medium",onClick:function(){return r()}},s.a.createElement(l.q,{icon:E.n}))),s.a.createElement("div",{className:"ion-padding"},s.a.createElement("div",{id:"firebaseui-auth-container",ref:i}))))}),y=(a(153),function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("Login"),o=Object(g.a)(i,2),c=o[0],u=o[1],d=function(e){u(e),r((function(e){return!e}))};return s.a.createElement(l.G,null,s.a.createElement(l.p,{className:"ion-no-border"},s.a.createElement(l.W,{color:"primary"},s.a.createElement(l.U,{className:"ion-padding"},s.a.createElement(l.r,{src:"https://profalo.in/img/logo.svg",style:{width:"120px"},className:"svg-logo-white"})))),s.a.createElement(l.m,null,s.a.createElement("div",{className:"ion-text-center",style:{padding:"8vh",backgroundColor:"#ebf2ff",color:"#194589"}},s.a.createElement("h1",{style:{fontSize:"3em"}},s.a.createElement("b",null,"Merchant Dashboard")),s.a.createElement("p",null,"Manage your business presence online with profalo.in")),s.a.createElement(l.L,{className:"ion-align-items-center"},s.a.createElement(l.l,{sizeSm:"12",sizeMd:"8",sizeLg:"6",sizeXl:"3",className:"ion-padding pt-lg ion-text-center self-align-center-horizontal"},s.a.createElement("br",null),s.a.createElement(l.v,{color:"primary",className:"rounded-border",button:!0,onClick:function(){return d("Login")}},s.a.createElement(l.q,{icon:E.e,slot:"start"}),s.a.createElement(l.x,null,s.a.createElement("small",null,"Login now"),s.a.createElement("h2",null,"Login with phone number."))),s.a.createElement("br",null),s.a.createElement(l.w,null),s.a.createElement("br",null),s.a.createElement(l.v,{color:"clear",lines:"none",className:"rounded-border",button:!0,onClick:function(){return d("Register new account")}},s.a.createElement(l.q,{icon:E.I,slot:"start",color:"primary"}),s.a.createElement(l.x,{color:"primary"},s.a.createElement("small",null,"Don't have a account ?"),s.a.createElement("h2",null,"Create a new account now.")))))),s.a.createElement(h,{title:c,showModal:a,onClose:function(){r((function(e){return!e}))}}))}),w=function(e){var t=e.title;return s.a.createElement(l.G,null,s.a.createElement(l.m,null,s.a.createElement(l.A,{isOpen:!0,message:null!==t&&void 0!==t?t:"Loading...",spinner:"crescent"})))},j=Object(n.lazy)((function(){return a.e(40).then(a.bind(null,225))})),O=function(){return s.a.createElement(v.a,null,s.a.createElement(l.Q,{contentId:"main",className:"ion-split-pane-max-width"},s.a.createElement(m,null),s.a.createElement(f,{id:"main"},s.a.createElement(j,null))),s.a.createElement(c.a,{from:"/",to:u.d.url,exact:!0}))},x=function(){return s.a.createElement(v.a,null,s.a.createElement(l.K,{basePath:u.a},s.a.createElement(c.b,{path:u.a+"/login",exact:!0},s.a.createElement(y,null)),s.a.createElement(c.a,{from:u.a,to:u.a+"/login",exact:!0}),s.a.createElement(c.a,{from:"/",to:u.a+"/login",exact:!0})),s.a.createElement(c.a,{from:"/",to:u.a+"/login",exact:!0}))},L=function(){var e=Object(n.useContext)(o.a).auth;return(null===e||void 0===e?void 0:e.isLoading)?s.a.createElement(w,null):(null===e||void 0===e?void 0:e.isAuthenticated())?s.a.createElement(n.Suspense,{fallback:s.a.createElement(w,{title:"Loading Dashboard..."})},s.a.createElement(O,null)):s.a.createElement(x,null)},S=a(23),C=a(96),q=a(9),N=a(53);Object(l.gb)({mode:"md"});var k=new S.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnMount:!1,retryOnMount:!1,refetchIntervalInBackground:!1,staleTime:12e4,cacheTime:12e4,keepPreviousData:!1,refetchOnReconnect:!1}}});N.a.appInit(window._x_aC),b.a.initializeApp(N.a.get().firebase),window.firebaseAuthUI=new C.a.AuthUI(b.a.auth()),q.a.ToggleUITheme("light");var I=function(){return s.a.createElement(S.QueryClientProvider,{client:k},s.a.createElement(o.b,null,s.a.createElement(l.b,null,s.a.createElement(L,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,t,a){"use strict";var n=a(63),s=a.n(n),r=a(9).a.WithAppURL("/api/myprofalo/v1/");s.a.defaults.withCredentials=!0;var i={BASE_URl:r,httpClient:s.a.create({baseURL:r,responseType:"json"}),rawAxios:s.a};t.a=i},28:function(e,t,a){"use strict";var n,s=a(2),r=a(5),i=a(1),l=a(0),o=a.n(l),c=a(23),u=a(19),d=a(7),m=a.n(d),v=a(15),g=a(26),E={GetBusinessCategories:function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.httpClient.get("business-category",{params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},p=a(9);!function(e){e.Verified="Verified",e.PendingVerification="Pending Verification",e.Unverified="Unverified"}(n||(n={}));var f=function(e){var t={success:!0,request:null};return e?p.a.StrIsFalsy(e.businessName)?(t.success=!1,t.message="Name is required",t.error={businessName:[t.message]},t):!e.businessCategoryId||e.businessCategoryId<0?(t.success=!1,t.message="Business category is required",t.error={businessCategoryId:[t.message]},t):(t.request={businessName:e.businessName.trim(),businessCategoryId:e.businessCategoryId},t):(t.success=!1,t.message="Something went wrong, please try again later.",t)},b=function(e){var t,a,n,s,r,i,l={success:!0,request:null};return e?p.a.StrIsFalsy(e.businessName)?(l.success=!1,l.message="Name is required",l.error={businessName:[l.message]},l):p.a.StrIsFalsy(e.businessCategoryId)||"0"===e.businessCategoryId?(l.success=!1,l.message="Business category is required",l.error={businessCategoryId:[l.message]},l):(l.request={businessId:e.businessId,businessName:null===e||void 0===e||null===(t=e.businessName)||void 0===t?void 0:t.trim(),businessCategoryId:null===e||void 0===e?void 0:e.businessCategoryId,businessDescription:null===e||void 0===e||null===(a=e.businessDescription)||void 0===a?void 0:a.trim(),businessAddressLine1:null===e||void 0===e||null===(n=e.businessAddressLine1)||void 0===n?void 0:n.trim(),businessAddressLine2:null===e||void 0===e||null===(s=e.businessAddressLine2)||void 0===s?void 0:s.trim(),businessAddressCity:null===e||void 0===e||null===(r=e.businessAddressCity)||void 0===r?void 0:r.trim(),businessAddressState:null===e||void 0===e||null===(i=e.businessAddressState)||void 0===i?void 0:i.trim(),businessAddressPincode:e.businessAddressPincode,businessContacts:e.businessContacts,businessSocials:e.businessSocials,businessOther:e.businessOther},l):(l.success=!1,l.message="Something went wrong, please try again later.",l)},h=function(e,t){var a=new Map,n=[];try{n=JSON.parse(e)}catch(s){}return t.forEach((function(e){var t,s=n&&n.length>0?n.findIndex((function(t){return t.name===e})):-1,r=s>-1&&null!==(t=n[s].value)&&void 0!==t?t:"";a.set(e,r)})),a},y={GetBusinesses:function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.httpClient.get("business",{params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),GetBusiness:function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.httpClient.get("business/"+t.id);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),CreateBusiness:function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=f(t)).success){e.next=3;break}return e.abrupt("return",p.a.CreateAPIResponseObj(a));case 3:return e.abrupt("return",g.a.httpClient.post("business",a.request));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),UpdateBusiness:function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=b(t)).success){e.next=3;break}return e.abrupt("return",p.a.CreateAPIResponseObj(n));case 3:return e.abrupt("return",g.a.httpClient.put("business/"+(null===(a=n.request)||void 0===a?void 0:a.businessId),n.request));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),DeleteBusiness:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.a.httpClient.delete("business/"+t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),UploadBusinessProfileImage:function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).set("image",t.request.image),e.abrupt("return",g.a.httpClient.post("business/"+t.request.id+"/profile-image",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t.onUploadProgress}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ConvertToBusinessVerificationStatus:function(e){switch(e){case 1:return n.PendingVerification;case 2:return n.Verified;case 3:default:return n.Unverified}},ConvertToBusinessContacts:function(e){return h(e,["whatsapp","alternate","email"])},ConvertToBusinessSocials:function(e){return h(e,["facebook","instagram","twitter"])},MapBusinessDetailsToJson:function(e){var t=[];return e.forEach((function(e,a){t.push({name:a,value:e})})),t}},w=function(e){var t,a,n=e.showModal,d=e.onClose,m=Object(l.useState)(""),v=Object(r.a)(m,2),g=v[0],f=v[1],b=Object(l.useState)(null),h=Object(r.a)(b,2),w=h[0],j=h[1],O=Object(l.useState)(null),x=Object(r.a)(O,2),L=x[0],S=x[1],C=Object(l.useState)(!1),q=Object(r.a)(C,2),N=q[0],k=q[1],I=Object(c.useMutation)(y.CreateBusiness.name,y.CreateBusiness),P=Object(l.useState)(),z=Object(r.a)(P,2),A=z[0],_=z[1],D=Object(u.e)(),U=Object(c.useQueryClient)(),B=Object(c.useQuery)([E.GetBusinessCategories.name,{}],(function(){return E.GetBusinessCategories({})})),T=function(e){e&&(S(e.errorMessage),e.businessName&&e.businessName[0]&&j(e.businessName[0]),k(!0))},R=null===(t=B.data)||void 0===t?void 0:t.data;return o.a.createElement(i.E,{isOpen:n,cssClass:"ion-no-border",backdropDismiss:!1},o.a.createElement(i.V,{isOpen:N,message:null!==L&&void 0!==L?L:"Some error occurred",color:"danger",position:"top",onDidDismiss:function(){return k(!1)},duration:5e3}),o.a.createElement(i.m,null,o.a.createElement("div",{className:"ion-padding"},o.a.createElement("div",{className:"ion-padding"},o.a.createElement("h1",null,"Add new business"),o.a.createElement("p",null,"Lets begin with the name first.")),o.a.createElement("div",{className:"ion-padding"},o.a.createElement(i.y,null,o.a.createElement(i.v,null,B.isLoading&&o.a.createElement(i.H,{type:"indeterminate"}),o.a.createElement(i.x,{position:"stacked"},"Select Business Category"),o.a.createElement(i.N,{placeholder:"Select category",onIonChange:function(e){_(e.detail.value)},value:A,disabled:I.isLoading||B.isLoading,selectedText:null!==(a=null===A||void 0===A?void 0:A.title)&&void 0!==a?a:"None"},null===R||void 0===R?void 0:R.map((function(e,t){return o.a.createElement(i.O,{key:t,value:e},e.title)})))),o.a.createElement(i.v,{style:{paddingTop:"22px"}},o.a.createElement(i.x,{position:"stacked"},"Business Name ",o.a.createElement("br",null),w&&o.a.createElement(i.R,{color:"danger"}," ",w)),o.a.createElement(i.u,{value:g,onIonChange:function(e){return f(e.detail.value)},autofocus:!0,disabled:I.isLoading,placeholder:"full business name",required:!0,maxlength:150})),I.isLoading&&o.a.createElement(i.H,{type:"indeterminate"}))))),o.a.createElement(i.n,null,o.a.createElement(i.L,{className:"ion-padding"},o.a.createElement(i.l,{sizeLg:"6",sizeSm:"6"},o.a.createElement(i.e,{fill:"clear",color:"medium",onClick:d,disabled:I.isLoading},o.a.createElement(i.q,{icon:s.n,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Cancel"))),o.a.createElement(i.l,{sizeLg:"6",sizeSm:"6"},o.a.createElement(i.e,{onClick:function(){var e;j(null),S(null),I.mutate({businessName:g,businessCategoryId:null!==(e=null===A||void 0===A?void 0:A.id)&&void 0!==e?e:0},{onError:function(e,t,a){var n=p.a.GetAPIErrorObj(e);T(n)},onSuccess:function(e,t,a){var n=p.a.GetAPIDataObj(e);if(n)if(n.success)U.invalidateQueries([y.GetBusinesses.name,{page:1,searchTerm:""}]),D.push(K.url.replace(":id",n.data.id).replace(":newBusiness",g));else{var s=p.a.GetAPIErrorObj(e);console.log(s),T(s)}}})},className:"ion-float-right",disabled:I.isLoading||g.length<2||!(null===A||void 0===A?void 0:A.id),fill:g.length<2?"clear":"solid"},o.a.createElement(i.q,{icon:s.N,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Save & Next"))))))},j=function(e){var t=e.message,a=e.icon;return o.a.createElement("div",{className:"ion-padding ion-text-center"},o.a.createElement(i.q,{icon:a||s.S,size:"large",color:"medium"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(i.R,{color:"medium"},t))},O=function(){return o.a.createElement("div",null,o.a.createElement(i.v,null,o.a.createElement(i.T,{slot:"start"},o.a.createElement(i.P,{animated:!0})),o.a.createElement(i.x,null,o.a.createElement(i.P,{animated:!0,style:{width:"80%"}}),o.a.createElement(i.P,{animated:!0,style:{width:"20%"}}))),o.a.createElement(i.v,null,o.a.createElement(i.T,{slot:"start"},o.a.createElement(i.P,{animated:!0})),o.a.createElement(i.x,null,o.a.createElement(i.P,{animated:!0,style:{width:"80%"}}),o.a.createElement(i.P,{animated:!0,style:{width:"20%"}}))),o.a.createElement(i.v,null,o.a.createElement(i.T,{slot:"start"},o.a.createElement(i.P,{animated:!0})),o.a.createElement(i.x,null,o.a.createElement(i.P,{animated:!0,style:{width:"80%"}}),o.a.createElement(i.P,{animated:!0,style:{width:"20%"}}))))},x=function(e){var t,a,n=e.business;return o.a.createElement(i.v,{routerLink:K.url.replace(":id",n.id.toString()).replace(":newBusiness",""),routerDirection:"root",button:!0},o.a.createElement(i.T,{slot:"start"},o.a.createElement(i.r,{style:{borderRadius:"8px"},alt:null!==(t=n.name)&&void 0!==t?t:"",src:null!==(a=n.photoURL)&&void 0!==a?a:p.a.PlaceholderImg(n.name)})),o.a.createElement(i.x,null,o.a.createElement("h2",{className:"pb-sm"},n.name),o.a.createElement("p",null,y.ConvertToBusinessVerificationStatus(n.business_status_id))))},L=function(e){var t=e.businesses,a=e.currentPage,n=e.totalPages,s=e.getNextPage,r=e.getPreviousPage;return t&&t.length>0?o.a.createElement("div",null,o.a.createElement(i.y,{lines:"full"},t.map((function(e,t){return o.a.createElement(x,{key:t,business:e})}))),o.a.createElement(i.w,{className:"mt-md"},o.a.createElement(i.x,{slot:"start"},"Page ",a," of ",n),o.a.createElement(i.x,{slot:"end"},o.a.createElement(i.e,{color:"primary",size:"small",fill:"clear",className:"ion-text-capitalize",onClick:r,disabled:1===a},"Previous"),o.a.createElement(i.e,{color:"primary",size:"small",fill:"clear",className:"ion-text-capitalize",onClick:s,disabled:a===n},"Next")))):o.a.createElement(j,{message:"No item to show, click on 'Add Business' button to add one."})},S=function(){var e,t,a,n,u=Object(l.useState)(""),d=Object(r.a)(u,2),m=d[0],v=d[1],g=Object(l.useState)(1),E=Object(r.a)(g,2),p=E[0],f=E[1],b=Object(l.useState)(!1),h=Object(r.a)(b,2),j=h[0],x=h[1],S=Object(c.useQuery)([y.GetBusinesses.name,{page:p,searchTerm:m}],(function(){return y.GetBusinesses({page:p,searchTerm:m})})),C=S.data,q=S.error,N=S.isError,k=S.isLoading,I=S.refetch,P=S.isFetched,z=function(){P||I()};return o.a.createElement(i.m,{className:"ion-padding"},o.a.createElement(i.V,{isOpen:!0===N,message:null!==(e=null===(t=q)||void 0===t?void 0:t.message)&&void 0!==e?e:"Error",duration:3e3,color:"danger"}),o.a.createElement(i.M,{value:m,disabled:k,debounce:800,placeholder:"search by name",onIonChange:function(e){v(e.detail.value),f(1),z()},className:"search-bar-no-box-shadow p-0 mb-md",color:"light"}),o.a.createElement(i.w,{className:"mb-md"},o.a.createElement(i.x,null,o.a.createElement("p",null,m.length>0?"results for '".concat(m.substring(0,15),"'").concat(m.length>15?"...":""):"Showing all items")),o.a.createElement(i.x,{slot:"end"},o.a.createElement(i.e,{color:"primary",fill:"solid",className:"ion-text-capitalize",disabled:k,onClick:function(){x(!0)}},o.a.createElement(i.q,{icon:s.a,slot:"start"}),"Add Business"))),k?o.a.createElement(O,null):o.a.createElement(L,{businesses:null===C||void 0===C?void 0:C.data,currentPage:null!==(a=null===C||void 0===C?void 0:C.current_page)&&void 0!==a?a:"...",totalPages:null!==(n=null===C||void 0===C?void 0:C.last_page)&&void 0!==n?n:"...",getNextPage:function(){!k&&(null===C||void 0===C?void 0:C.next_page_url)&&(f((function(e){return e+1})),z())},getPreviousPage:function(){!k&&(null===C||void 0===C?void 0:C.prev_page_url)&&(f((function(e){return e-1})),z())}}),o.a.createElement(w,{onClose:function(){x(!1)},showModal:j}))},C=function(e){var t,a,r,l=e.status,c=e.text;switch(l){case n.PendingVerification:t="warning",r=s.U;break;case n.Unverified:t="danger",r=s.d;break;case n.Verified:t="light",a="success",r=s.h;break;default:t=void 0,a=void 0,r=void 0}return o.a.createElement(i.L,{className:"ion-justify-content-center",color:t},o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.v,{lines:"full"},o.a.createElement(i.q,{icon:r,slot:"start",color:t}),o.a.createElement(i.R,{color:a},null===c||void 0===c||""===c?"Business is in ".concat(l).concat(l===n.Verified?" status, and is available online.":" status, contact us for more help!"):c))))},q=function(e){var t,a,n,r,l,c,u,d,m=e.business,v=e.businessContacts,g=e.businessSocials,E=e.showChangeProfileImage,p=v.get("whatsapp"),f=v.get("alternate"),b=v.get("email"),h=g.get("facebook"),y=g.get("instagram"),w=g.get("twitter");return o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeXl:"8",sizeLg:"12",sizeMd:"12",sizeSm:"12"},o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeXl:"4",sizeLg:"12",sizeSm:"12",sizeMd:"12",sizeXs:"12",style:{borderRadius:"12px"}},o.a.createElement(i.T,{style:{width:"200px",height:"200px",margin:"16px auto"}},o.a.createElement(i.r,{alt:"business profile image",style:{borderRadius:"8px"},src:null!==(t=null===m||void 0===m?void 0:m.photoURL)&&void 0!==t?t:"https://ionicframework.com/docs/demos/api/list/avatar-yoda.png"})),o.a.createElement(i.e,{expand:"block",color:"primary",fill:"clear",className:"ion-text-capitalize",onClick:function(){return E(!1)}},o.a.createElement(i.q,{icon:s.u,slot:"start"})," Change Photo")),o.a.createElement(i.l,{sizeXl:"8",sizeLg:"12",sizeSm:"12",sizeMd:"12",sizeXs:"12",style:{padding:"16px"}},o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement("h3",null,o.a.createElement(i.R,null,null===m||void 0===m?void 0:m.name))),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(i.R,{color:"medium"},"#ID-",null===m||void 0===m?void 0:m.id)),o.a.createElement(i.x,null,o.a.createElement("small",null,null===m||void 0===m?void 0:m.slug))),o.a.createElement(i.v,{color:"clear",lines:"full"},o.a.createElement("small",{slot:"start"},o.a.createElement(i.R,{color:"medium"},"Category")),o.a.createElement(i.x,null,o.a.createElement("small",null,null!==(a=null===m||void 0===m||null===(n=m.business_category)||void 0===n?void 0:n.title)&&void 0!==a?a:"Category not set"))),o.a.createElement(i.w,null,o.a.createElement(i.x,null,o.a.createElement(i.q,{icon:s.w,color:"dark"})," \xa0 Address")),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(i.R,{color:"medium"},"Line 1")),o.a.createElement(i.x,null,o.a.createElement("small",null,null!==(r=null===m||void 0===m?void 0:m.address_line1)&&void 0!==r?r:"-"))),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(i.R,{color:"medium"},"Line 2")),o.a.createElement(i.x,null,o.a.createElement("small",null,null!==(l=null===m||void 0===m?void 0:m.address_line2)&&void 0!==l?l:"-"))),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(i.R,{color:"medium"},"City/Taluka")),o.a.createElement(i.x,null,o.a.createElement("small",null,null!==(c=null===m||void 0===m?void 0:m.address_city)&&void 0!==c?c:"-"))),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(i.R,{color:"medium"},"State")),o.a.createElement(i.x,null,o.a.createElement("small",null,null!==(u=null===m||void 0===m?void 0:m.address_state)&&void 0!==u?u:"-"))),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement("small",{slot:"start"},o.a.createElement(i.R,{color:"medium"},"Pincode")),o.a.createElement(i.x,null,o.a.createElement("small",null,null!==(d=null===m||void 0===m?void 0:m.address_pincode)&&void 0!==d?d:"-")))),o.a.createElement(i.l,{sizeLg:"12",sizeSm:"12",sizeXs:"12",style:{borderRadius:"12px"},className:"ion-justify-content-center"},o.a.createElement(i.w,{style:{marginBottom:"16px"}},o.a.createElement(i.x,null,"Other details")),p&&o.a.createElement(i.k,null,o.a.createElement(i.x,null,o.a.createElement(i.q,{icon:s.B,color:"dark"})," \xa0",p)),f&&o.a.createElement(i.k,null,o.a.createElement(i.x,null,o.a.createElement(i.q,{icon:s.f,color:"dark"})," \xa0",f)),b&&o.a.createElement(i.k,null,o.a.createElement(i.x,null,o.a.createElement(i.q,{icon:s.C,color:"dark"})," \xa0",b)),h&&o.a.createElement(i.k,null,o.a.createElement(i.x,null,o.a.createElement(i.q,{icon:s.y,color:"dark"})," \xa0",h)),y&&o.a.createElement(i.k,null,o.a.createElement(i.x,null,o.a.createElement(i.q,{icon:s.z,color:"dark"})," \xa0",y)),w&&o.a.createElement(i.k,null,o.a.createElement(i.x,null,o.a.createElement(i.q,{icon:s.A,color:"dark"})," \xa0",w))))))},N=function(){return o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"4",sizeSm:"12",sizeXs:"12",style:{borderRadius:"12px"}},o.a.createElement(i.T,{style:{width:"200px",height:"200px",margin:"16px auto"}},o.a.createElement(i.P,{animated:!0}))),o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12",sizeXs:"12",style:{padding:"16px"}},o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement(i.P,{animated:!0,style:{width:"70%",height:"24px"}})),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement(i.P,{animated:!0,style:{width:"90%",height:"24px"}})),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement(i.P,{animated:!0,style:{width:"60%",height:"24px"}})),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement(i.P,{animated:!0,style:{width:"60%",height:"24px"}})),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement(i.P,{animated:!0,style:{width:"60%",height:"24px"}})),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement(i.P,{animated:!0,style:{width:"70%",height:"24px"}})),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement(i.P,{animated:!0,style:{width:"60%",height:"24px"}})),o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement(i.P,{animated:!0,style:{width:"70%",height:"24px"}}))),o.a.createElement(i.l,{sizeLg:"12",sizeSm:"12",sizeXs:"12",style:{borderRadius:"12px"},className:"ion-justify-content-center"},o.a.createElement(i.k,null,o.a.createElement(i.P,{animated:!0,style:{width:"200px",height:"24px"}})),o.a.createElement(i.k,null,o.a.createElement(i.P,{animated:!0,style:{width:"70px",height:"24px"}})),o.a.createElement(i.k,null,o.a.createElement(i.P,{animated:!0,style:{width:"150px",height:"24px"}}))))))},k=function(e){var t=e.message,a=e.className;return t?o.a.createElement("span",{className:a},o.a.createElement(i.R,{color:"danger"},o.a.createElement("small",null,t))):null},I=function(e){var t=e.message,a=e.className;return t?o.a.createElement(i.v,{className:a},o.a.createElement(i.R,{color:"danger"},o.a.createElement("small",null,t))):null},P=a(31),z=a(41),A=function(){var e=Object(l.useState)({}),t=Object(r.a)(e,2),a=t[0],n=t[1];return[a,function(e,t){e&&n((function(a){return Object(z.a)(Object(z.a)({},a),{},Object(P.a)({},e,t))}))},function(e){n(e)}]},_=function(e){var t=e.showModal,a=e.onClose,n=e.businessId,u=e.photoURL,d=Object(l.useState)(null),g=Object(r.a)(d,2),E=g[0],f=g[1],b=Object(l.useState)(null),h=Object(r.a)(b,2),w=h[0],j=h[1],O=Object(l.useState)(!1),x=Object(r.a)(O,2),L=x[0],S=x[1],C=Object(l.useState)(null),q=Object(r.a)(C,2),N=q[0],k=q[1],P=Object(l.useState)(0),z=Object(r.a)(P,2),A=z[0],_=z[1],D=Object(l.useRef)(null),U=Object(c.useMutation)(y.UploadBusinessProfileImage.name,y.UploadBusinessProfileImage),B=function(e){e&&(j(e.errorMessage),e.image&&e.image[0]&&f(e.image[0]),S(!0))},T=function(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){var a;return t(null===(a=e.target)||void 0===a?void 0:a.result)},n.onerror=function(e){return a(e)},n.readAsDataURL(e)}))},R=function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=t.target.files&&t.target.files.length>0)){e.next=11;break}if(!(t.target.files[0].size>8e6)){e.next=6;break}return f("Image file size must be less than 8Mb, please select a different image."),e.abrupt("return");case 6:f(null);case 7:return e.next=9,T(t.target.files[0]);case 9:(a=e.sent)&&k(null===a||void 0===a?void 0:a.toString());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){if(e){var t=e.loaded/e.total;console.log(t),_(t)}};return o.a.createElement(i.E,{isOpen:t,cssClass:"ion-no-border",backdropDismiss:!1},o.a.createElement(i.V,{isOpen:L,message:null!==w&&void 0!==w?w:"Some error occurred",color:"danger",position:"middle",onDidDismiss:function(){S(!1)},duration:5e3}),o.a.createElement(i.m,null,o.a.createElement(i.v,{color:"clear",lines:"none"},o.a.createElement("h4",null,"Update profile image"),o.a.createElement(i.e,{slot:"end",fill:"clear",size:"large",color:"medium",onClick:function(){return a(!1)},disabled:U.isLoading},o.a.createElement(i.q,{icon:s.n}))),o.a.createElement(i.y,null,o.a.createElement(i.v,{lines:"full"},o.a.createElement(i.T,{style:{width:"300px",height:"300px",margin:"16px auto"}},o.a.createElement(i.r,{style:{borderRadius:"8px"},alt:"business profile image",src:null!=N?N:null!==u&&void 0!==u?u:"https://ionicframework.com/docs/demos/api/list/avatar-yoda.png"}))),U.isLoading&&o.a.createElement(i.H,{type:A<1?"determinate":"indeterminate",value:A}),E&&o.a.createElement(I,{message:E,className:"self-align-center-horizontal"}),o.a.createElement(i.v,{lines:"full"},o.a.createElement(i.o,null,o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeMd:"4",sizeXs:"12"},o.a.createElement(i.e,{disabled:U.isLoading,color:"primary",fill:"clear",className:"ion-text-capitalize",expand:"block",onClick:function(){var e;null===(e=D.current)||void 0===e||e.click()}},o.a.createElement(i.q,{icon:s.u,slot:"start"}),"Select Photo"),o.a.createElement("input",{hidden:!0,type:"file",ref:D,onChange:R,name:"profile_img",accept:"image/png,image/jpg,image/jpeg,image/webp"}))))))),o.a.createElement(i.n,null,o.a.createElement(i.L,{className:"ion-justify-content-center ion-padding"},N&&o.a.createElement(i.l,{sizeMd:"4",sizeXs:"12"},o.a.createElement(i.e,{onClick:function(){var e,t,s;if(n&&D&&D.current&&(null===(e=D.current)||void 0===e?void 0:e.files)&&(null===(t=D.current)||void 0===t?void 0:t.files[0])){var r={request:{id:n,image:null===(s=D.current)||void 0===s?void 0:s.files[0]},onUploadProgress:M};f(null),j(null),U.mutate(r,{onError:function(e,t,a){var n=p.a.GetAPIErrorObj(e);B(n)},onSuccess:function(e,t,n){var s=p.a.GetAPIDataObj(e);if(s){if(!s.success){var r=p.a.GetAPIErrorObj(e);return console.log(r),void B(r)}a(!0)}}})}},expand:"block",disabled:U.isLoading,fill:"solid"},o.a.createElement(i.q,{icon:s.p,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize self-align-center-horizontal"},"Upload"))))))},D=function(e){var t=e.onHide;return o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.v,{color:"success",detail:!0,detailIcon:s.n,onClick:t},o.a.createElement(i.q,{icon:s.i,slot:"start"}),o.a.createElement(i.x,null,o.a.createElement("h2",null,"Business added successfully"),o.a.createElement("p",null,"Please add remaining details.")))))},U=function(){var e,t,a,n,d,g,f,b,h,w,j,O,x,L,S,P,z,U,B,T,R,M,G,V,W,F=Object(u.g)(),H=F.id,J=F.newBusiness,X=Object(l.useState)(!1),K=Object(r.a)(X,2),$=K[0],Y=K[1],Z=Object(l.useState)(!1),ee=Object(r.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(l.useState)(!1),se=Object(r.a)(ne,2),re=se[0],ie=se[1],le=Object(l.useState)(!1),oe=Object(r.a)(le,2),ce=oe[0],ue=oe[1],de=Object(l.useState)(!1),me=Object(r.a)(de,2),ve=me[0],ge=me[1],Ee=Object(l.useState)(!1),pe=Object(r.a)(Ee,2),fe=pe[0],be=pe[1],he=Object(l.useState)(!1),ye=Object(r.a)(he,2),we=ye[0],je=ye[1],Oe=A(),xe=Object(r.a)(Oe,3),Le=xe[0],Se=xe[1],Ce=xe[2],qe=Object(l.useState)(),Ne=Object(r.a)(qe,2),ke=Ne[0],Ie=Ne[1],Pe=A(),ze=Object(r.a)(Pe,3),Ae=ze[0],_e=ze[1],De=ze[2],Ue=Object(l.useState)(null),Be=Object(r.a)(Ue,2),Te=Be[0],Re=Be[1],Me=Object(l.useState)(new Map),Ge=Object(r.a)(Me,2),Ve=Ge[0],We=Ge[1],Fe=Object(l.useState)(new Map),He=Object(r.a)(Fe,2),Je=He[0],Xe=He[1],Qe=Object(c.useQuery)([y.GetBusiness.name,{id:H}],(function(){return y.GetBusiness({id:H})})),Ke=Object(c.useQuery)([E.GetBusinessCategories.name,{}],(function(){return E.GetBusinessCategories({})})),$e=Object(c.useMutation)(y.UpdateBusiness.name,y.UpdateBusiness),Ye=Object(c.useMutation)(y.DeleteBusiness.name,y.DeleteBusiness),Ze=null===(e=Qe.data)||void 0===e?void 0:e.data,et=y.ConvertToBusinessContacts(null!==(t=null===(a=Qe.data)||void 0===a||null===(n=a.data.business_details)||void 0===n?void 0:n.contacts)&&void 0!==t?t:"{}"),tt=y.ConvertToBusinessSocials(null!==(d=null===(g=Qe.data)||void 0===g||null===(f=g.data.business_details)||void 0===f?void 0:f.socials)&&void 0!==d?d:"{}"),at=null===(b=Ke.data)||void 0===b?void 0:b.data,nt=function(){var e=Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$?(Ce({}),We(new Map),Xe(new Map),De({})):(Ce(Ze),Ie(null===Ze||void 0===Ze?void 0:Ze.business_category),We(et),Xe(tt)),Y(!$);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(e,t){We(null===Ve||void 0===Ve?void 0:Ve.set(e,t))},rt=function(e,t){Xe(null===Je||void 0===Je?void 0:Je.set(e,t))},it=function(e){e&&(Re(e.errorMessage),e.businessName&&e.businessName[0]&&_e("businessName",e.businessName[0]),e.businessDescription&&e.businessDescription[0]&&_e("businessDescription",e.businessDescription[0]),e.businessCategoryId&&e.businessCategoryId[0]&&_e("businessCategoryId",e.businessCategoryId[0]),e.businessAddressLine1&&e.businessAddressLine1[0]&&_e("businessAddressLine1",e.businessAddressLine1[0]),e.businessAddressLine2&&e.businessAddressLine2[0]&&_e("businessAddressLine2",e.businessAddressLine2[0]),e.businessAddressCity&&e.businessAddressCity[0]&&_e("businessAddressCity",e.businessAddressCity[0]),e.businessAddressState&&e.businessAddressState[0]&&_e("businessAddressState",e.businessAddressState[0]),e.businessAddressPincode&&e.businessAddressPincode[0]&&_e("businessAddressPincode",e.businessAddressPincode[0]),e.businessContacts&&e.businessContacts[0]&&_e("businessContacts",e.businessContacts[0]),e.businessSocials&&e.businessSocials[0]&&_e("businessSocials",e.businessSocials[0]),ae(!0))},lt=function(){var e;De({});var t={businessId:Le.id,businessName:null===Le||void 0===Le?void 0:Le.name,businessDescription:null===Le||void 0===Le?void 0:Le.description,businessCategoryId:null===ke||void 0===ke?void 0:ke.id.toString(),businessAddressLine1:null===Le||void 0===Le?void 0:Le.address_line1,businessAddressLine2:null===Le||void 0===Le?void 0:Le.address_line2,businessAddressCity:null===Le||void 0===Le?void 0:Le.address_city,businessAddressState:null===Le||void 0===Le?void 0:Le.address_state,businessAddressPincode:null===Le||void 0===Le||null===(e=Le.address_pincode)||void 0===e?void 0:e.toString(),businessContacts:JSON.stringify(y.MapBusinessDetailsToJson(Ve)),businessSocials:JSON.stringify(y.MapBusinessDetailsToJson(Je))};$e.mutate(t,{onError:function(e,t,a){var n=p.a.GetAPIErrorObj(e);it(n)},onSuccess:function(e,t,a){var n=p.a.GetAPIDataObj(e);if(n)if(n.success)Y(!1),ie(!0),Qe.refetch();else{var s=p.a.GetAPIErrorObj(e);it(s)}}})},ot=function(e){je(!we),e&&Qe.refetch()};return Ze||Qe.isLoading?o.a.createElement(i.m,null,($e.isLoading||Qe.isLoading)&&o.a.createElement(i.H,{type:"indeterminate"}),!$&&void 0===J&&o.a.createElement(C,{status:y.ConvertToBusinessVerificationStatus(null!==(h=null===Ze||void 0===Ze?void 0:Ze.business_status_id)&&void 0!==h?h:0)}),void 0!==J&&(null===J||void 0===J?void 0:J.length)>1&&!ve&&o.a.createElement(D,{onHide:function(){ge(!0)}}),o.a.createElement(i.A,{isOpen:$e.isLoading,message:"Saving details, please wait..."}),o.a.createElement(i.A,{isOpen:Ye.isLoading,message:"Deleting details, please wait..."}),o.a.createElement(i.V,{isOpen:te,message:null!==Te&&void 0!==Te?Te:"Some error occurred while saving business.",color:"danger",position:"top",onDidDismiss:function(){return ae(!1)},duration:5e3}),o.a.createElement(i.V,{isOpen:re,message:"Business updated successfully.",color:"success",position:"top",onDidDismiss:function(){return ie(!1)},duration:4e3}),o.a.createElement(i.V,{isOpen:ce,message:"Business deleted successfully.",color:"success",position:"top",onDidDismiss:function(){return ie(!1)},duration:3e3}),o.a.createElement(i.o,null,!$&&o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(i.e,{fill:"clear",color:"primary",disabled:void 0!==J||Qe.isLoading},o.a.createElement(i.q,{icon:s.b,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"View Report"))),o.a.createElement(i.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(i.e,{color:"warning",onClick:nt,className:"ion-float-right",disabled:Qe.isLoading},o.a.createElement(i.q,{icon:s.H,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Edit Business")))),!$&&Qe.isLoading&&o.a.createElement(N,null),!$&&!Qe.isLoading&&o.a.createElement(q,{business:Ze,businessContacts:et,businessSocials:tt,showChangeProfileImage:ot}),!$&&!Qe.isLoading&&we&&o.a.createElement(_,{businessId:null===Ze||void 0===Ze?void 0:Ze.id,onClose:ot,showModal:we,photoURL:null===Ze||void 0===Ze?void 0:Ze.photoURL}),$&&o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(i.e,{color:"light",onClick:nt,disabled:Qe.isLoading||$e.isLoading},o.a.createElement(i.q,{icon:s.n,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Cancel Edit"))),o.a.createElement(i.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(i.e,{className:"ion-float-right",onClick:lt,disabled:Qe.isLoading||$e.isLoading},o.a.createElement(i.q,{icon:s.N,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Save Information")))),$&&o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.y,null,o.a.createElement(i.w,null,o.a.createElement(i.x,null,"Business main details"),o.a.createElement(i.x,{slot:"end"},"#ID-",null===Ze||void 0===Ze?void 0:Ze.id," \xa0")),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},"Name"),o.a.createElement(i.u,{readonly:!$||Qe.isLoading,placeholder:"full business name",required:!0,maxlength:150,value:null!==(w=null===Le||void 0===Le?void 0:Le.name)&&void 0!==w?w:null===Ze||void 0===Ze?void 0:Ze.name,onIonChange:function(e){return Se("name",e.detail.value)}})),o.a.createElement(I,{message:Ae.businessName}),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},"Description"),o.a.createElement(i.S,{value:null!==(j=null===Le||void 0===Le?void 0:Le.description)&&void 0!==j?j:null===Ze||void 0===Ze?void 0:Ze.description,onIonChange:function(e){return Se("description",e.detail.value)},autoGrow:!0,spellcheck:!0,readonly:!$||Qe.isLoading,maxlength:300,style:{minHeight:"48px"},placeholder:"business description such as, product or  services offered, or say something about your business",required:!0})),o.a.createElement(I,{message:Ae.businessDescription}),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},"Category"),o.a.createElement(i.N,{placeholder:"Select category",onIonChange:function(e){Ie(e.detail.value)},value:null!==ke&&void 0!==ke?ke:null===Ze||void 0===Ze?void 0:Ze.business_category,compareWith:function(e,t){return e&&t?e.id===t.id:e===t},disabled:!$||Qe.isLoading||Ke.isLoading,selectedText:null!==(O=null!==(x=null===ke||void 0===ke?void 0:ke.title)&&void 0!==x?x:null===Ze||void 0===Ze||null===(L=Ze.business_category)||void 0===L?void 0:L.title)&&void 0!==O?O:"None"},null===at||void 0===at?void 0:at.map((function(e,t){return o.a.createElement(i.O,{key:t,value:e},e.title)})))),o.a.createElement(I,{message:Ae.businessCategoryId}))),o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.y,null,o.a.createElement(i.w,null,o.a.createElement(i.x,null,"Business Contact details")),o.a.createElement(I,{message:Ae.businessContacts}),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},o.a.createElement(i.q,{icon:s.B,slot:"start"})," WhatsApp Number (need verification)"),o.a.createElement(i.u,{value:null!==(S=null===Ve||void 0===Ve?void 0:Ve.get("whatsapp"))&&void 0!==S?S:et.get("whatsapp"),onIonChange:function(e){return st("whatsapp",e.detail.value)},readonly:!$||Qe.isLoading,type:"tel",inputmode:"tel",pattern:"tel",placeholder:"main contact number",required:!0,maxlength:20})),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},o.a.createElement(i.q,{icon:s.f,slot:"start"})," Alternate Contact Number"),o.a.createElement(i.u,{value:null!==(P=null===Ve||void 0===Ve?void 0:Ve.get("alternate"))&&void 0!==P?P:et.get("alternate"),onIonChange:function(e){return st("alternate",e.detail.value)},readonly:!$||Qe.isLoading,type:"tel",inputmode:"tel",pattern:"tel",placeholder:"optional contact number",required:!0,maxlength:20})),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},o.a.createElement(i.q,{icon:s.C,slot:"start"})," Email"),o.a.createElement(i.u,{value:null!==(z=null===Ve||void 0===Ve?void 0:Ve.get("email"))&&void 0!==z?z:et.get("email"),onIonChange:function(e){return st("email",e.detail.value)},readonly:!$||Qe.isLoading,type:"email",inputmode:"email",pattern:"email",placeholder:"email address",required:!0,maxlength:150})))),o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.y,null,o.a.createElement(i.w,null,o.a.createElement(i.x,null,"Business Address details")),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},"Address"),o.a.createElement(i.u,{value:null!==(U=null===Le||void 0===Le?void 0:Le.address_line1)&&void 0!==U?U:null===Ze||void 0===Ze?void 0:Ze.address_line1,onIonChange:function(e){return Se("address_line1",e.detail.value)},readonly:!$||Qe.isLoading,placeholder:"Address line 1",required:!0,maxlength:120}),o.a.createElement(k,{message:Ae.businessAddressLine1}),o.a.createElement(i.u,{value:null!==(B=null===Le||void 0===Le?void 0:Le.address_line2)&&void 0!==B?B:null===Ze||void 0===Ze?void 0:Ze.address_line2,onIonChange:function(e){return Se("address_line2",e.detail.value)},readonly:!$||Qe.isLoading,placeholder:"Address line 2",required:!0,maxlength:80}),o.a.createElement(k,{message:Ae.businessAddressLine2}),o.a.createElement(i.u,{value:null!==(T=null===Le||void 0===Le?void 0:Le.address_city)&&void 0!==T?T:null===Ze||void 0===Ze?void 0:Ze.address_city,onIonChange:function(e){return Se("address_city",e.detail.value)},readonly:!$||Qe.isLoading,placeholder:"City/Taluka",required:!0,maxlength:50}),o.a.createElement(k,{message:Ae.businessAddressCity}),o.a.createElement(i.u,{value:null!==(R=null===Le||void 0===Le?void 0:Le.address_state)&&void 0!==R?R:null===Ze||void 0===Ze?void 0:Ze.address_state,onIonChange:function(e){return Se("address_state",e.detail.value)},readonly:!$||Qe.isLoading,placeholder:"State",required:!0,maxlength:40}),o.a.createElement(k,{message:Ae.businessAddressState}),o.a.createElement(i.u,{value:null!==(M=null===Le||void 0===Le?void 0:Le.address_pincode)&&void 0!==M?M:null===Ze||void 0===Ze?void 0:Ze.address_pincode,onIonChange:function(e){return Se("address_pincode",e.detail.value)},readonly:!$||Qe.isLoading,placeholder:"Pincode",required:!0,maxlength:10}),o.a.createElement(k,{message:Ae.businessAddressPincode})))),o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.y,null,o.a.createElement(i.w,null,o.a.createElement(i.x,null,"Business Social details")),Ae.businessSocials&&o.a.createElement(i.v,null,o.a.createElement(i.R,{color:"danger"}," ",Ae.businessSocials)),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},o.a.createElement(i.q,{icon:s.y,slot:"start"})," Facebook Page/Profile URL"),o.a.createElement(i.u,{value:null!==(G=null===Je||void 0===Je?void 0:Je.get("facebook"))&&void 0!==G?G:tt.get("facebook"),onIonChange:function(e){return rt("facebook",e.detail.value)},readonly:!$||Qe.isLoading,type:"url",inputmode:"url",pattern:"url",placeholder:"https://www.facebook.com/your_username/"})),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},o.a.createElement(i.q,{icon:s.z,slot:"start"})," Instagram Page/Profile URL"),o.a.createElement(i.u,{value:null!==(V=null===Je||void 0===Je?void 0:Je.get("instagram"))&&void 0!==V?V:tt.get("instagram"),onIonChange:function(e){return rt("instagram",e.detail.value)},readonly:!$||Qe.isLoading,type:"url",inputmode:"url",pattern:"url",placeholder:"https://www.instagram.com/your_username/"})),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},o.a.createElement(i.q,{icon:s.A,slot:"start"})," Twitter Page/Profile URL"),o.a.createElement(i.u,{value:null!==(W=null===Je||void 0===Je?void 0:Je.get("twitter"))&&void 0!==W?W:tt.get("twitter"),onIonChange:function(e){return rt("twitter",e.detail.value)},readonly:!$||Qe.isLoading,type:"url",inputmode:"url",pattern:"url",placeholder:"https://twitter.com/your_username/"}))))),!$&&o.a.createElement(i.L,{className:"ion-justify-content-center mv-md",style:{marginTop:"100px"}},o.a.createElement(i.l,{sizeLg:"2",sizeSm:"2"},o.a.createElement(i.e,{color:"danger",fill:"clear",className:"mv-md",disabled:Qe.isLoading,onClick:function(){return be(!0)}},o.a.createElement(i.q,{icon:s.T,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Delete Business")))),$&&o.a.createElement(i.L,{className:"mv-md ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(i.e,{color:"light",onClick:nt,disabled:Qe.isLoading||$e.isLoading},o.a.createElement(i.q,{icon:s.n,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Cancel Edit"))),o.a.createElement(i.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(i.e,{className:"ion-float-right",onClick:lt,disabled:Qe.isLoading||$e.isLoading},o.a.createElement(i.q,{icon:s.N,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Save Information")))),o.a.createElement(i.a,{isOpen:fe,header:"Delete Business",subHeader:"Are you sure you want to delete this business ?",onDidDismiss:function(e){be(!1)},inputs:[{name:"delete_business",type:"checkbox",label:"I agree to delete.",value:"delete",checked:!1}],buttons:[{text:"Cancel",role:"cancel",handler:function(){console.log("Confirm Cancel")}},{text:"Delete",cssClass:"ion-color-danger",handler:function(e){console.log("Delete",e[0]),e&&"delete"===e[0]&&(null===Ze||void 0===Ze?void 0:Ze.id)&&Ye.mutate({id:null===Ze||void 0===Ze?void 0:Ze.id},{onError:function(e,t,a){var n=p.a.GetAPIErrorObj(e);it(n)},onSuccess:function(e,t,a){var n=p.a.GetAPIDataObj(e);if(n)if(n.success)ue(!0),Qe.refetch();else{var s=p.a.GetAPIErrorObj(e);it(s)}}})}}]}))):o.a.createElement(i.m,null,!Qe.isLoading&&o.a.createElement(i.v,null,o.a.createElement(i.x,null," No business found. "),o.a.createElement(i.J,{routerLink:Q.url,routerDirection:"root"},"Go back to business listing")))},B=a(33),T=function(e){var t,a=e.showWelcomeModal,n=e.user,r=e.onClose;return o.a.createElement(i.E,{isOpen:a,cssClass:"ion-no-border",backdropDismiss:!1},o.a.createElement(i.m,null,o.a.createElement("div",{className:"ion-padding"},o.a.createElement(i.c,{className:"rounded-border h-20vh w-100p"},o.a.createElement(i.r,{src:"https://miro.medium.com/max/3826/1*5OCAmSENWSMzcRs6FpVjvw.png"})),o.a.createElement("div",{className:"ion-padding"},o.a.createElement("h1",null,"Hello ",null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:null===n||void 0===n?void 0:n.phone_number,"!"),o.a.createElement("p",null,"Welcome to Profalo Business Dashboard. Before you start managing your business online, lets complete few remaining things first.")),o.a.createElement(i.y,{lines:"full",className:"ion-padding"},o.a.createElement(i.v,null,o.a.createElement(i.q,{icon:s.i,color:"success",slot:"start"}),o.a.createElement(i.x,null,o.a.createElement("h3",null,"Account Created"))),o.a.createElement(i.v,null,o.a.createElement(i.q,{icon:s.V,color:"warning",slot:"start"}),o.a.createElement(i.x,null,o.a.createElement("h3",null,"Update Profile details")))),o.a.createElement("div",{className:"ion-padding ion-align-item-center"},o.a.createElement(i.e,{onClick:r,className:"ion-text-capitalize",routerLink:Y.url,routerDirection:"root"},"Update Profile")))))},R=function(){var e=Object(l.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(l.useContext)(B.a).userState;return Object(l.useEffect)((function(){var e;(null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.verified)||n(!0)}),[]),o.a.createElement(i.m,{className:"ion-padding"},o.a.createElement(i.o,null,o.a.createElement(i.L,null,o.a.createElement(i.l,{size:"12",sizeLg:"4"},o.a.createElement(M,{imgSrc:"https://miro.medium.com/max/3826/1*5OCAmSENWSMzcRs6FpVjvw.png",title:"Manage Business Listing",content:"Add, update and share your Business details online.",url:Q.url})),o.a.createElement(i.l,{size:"12",sizeLg:"4"},o.a.createElement(M,{imgSrc:"https://miro.medium.com/max/3826/1*5OCAmSENWSMzcRs6FpVjvw.png",title:"Manage Product Listing",content:"Add, update and showcase your Products online.",url:$.url})),o.a.createElement(i.l,{size:"12",sizeLg:"4"},o.a.createElement(M,{imgSrc:"https://miro.medium.com/max/3826/1*5OCAmSENWSMzcRs6FpVjvw.png",title:"Update Profile",content:"Update your profile details like name and contact.",url:Y.url})))),o.a.createElement(T,{user:null===s||void 0===s?void 0:s.user,showWelcomeModal:a,onClose:function(){n(!1)}}))},M=function(e){var t=e.imgSrc,a=e.title,n=e.content,s=e.url,r=e.onClick;return o.a.createElement(i.g,{button:!0,onClick:function(){return!s&&r&&r()},routerLink:s,routerDirection:"root"},o.a.createElement("img",{alt:"Update profile",src:t}),o.a.createElement(i.i,null,o.a.createElement(i.j,null,a)),o.a.createElement(i.h,null,n))},G=function(e){var t=Object.assign({},e),a=void 0,n=void 0;switch(t.notification.type){case"success":a=s.h,n="success";break;case"warning":a=s.V,n="warning";break;case"danger":a=s.V,n="danger";break;case"info":a=s.v,n="secondary"}return o.a.createElement(i.v,null,o.a.createElement(i.q,{icon:a,color:n,slot:"start"}),o.a.createElement(i.x,null,o.a.createElement(i.F,{className:"ion-float-right"},t.notification.dateTime),o.a.createElement("h2",null,t.notification.title),o.a.createElement("p",null,t.notification.message)))},V=function(){var e=Object(l.useContext)(B.a).notificationState;return Object(l.useEffect)((function(){(null===e||void 0===e?void 0:e.hasNext)&&e.getNotificationsNextPage(void 0)}),[]),o.a.createElement(i.m,null,o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.s,{onIonInfinite:function(t){return a=t,console.log(null===e||void 0===e?void 0:e.notifications.length),void((null===e||void 0===e?void 0:e.hasNext)&&e.getNotificationsNextPage((function(){return a.target.complete()})));var a}},o.a.createElement(i.t,{loadingSpinner:(null===e||void 0===e?void 0:e.isLoading)?"crescent":void 0},o.a.createElement(i.y,null,e&&e.notifications.length>0?null===e||void 0===e?void 0:e.notifications.map((function(e,t){return o.a.createElement(G,{key:t,notification:e})})):(null===e||void 0===e?void 0:e.isLoading)?o.a.createElement(O,null):o.a.createElement(j,{message:"No notification found yet"})))))))},W=function(){return o.a.createElement(i.m,{className:"ion-padding"},o.a.createElement("div",{style:{margin:"200px auto",width:"200px"}},o.a.createElement("h1",null,"Coming soon...")))},F=a(46),H=function(){var e,t,a,n=Object(l.useContext)(B.a),u=n.auth,d=n.userState,g=Object(l.useState)(!1),E=Object(r.a)(g,2),f=E[0],b=E[1],h=Object(c.useMutation)(F.a.UpdateUserData.name,F.a.UpdateUserData),y=Object(l.useState)(""),w=Object(r.a)(y,2),j=w[0],O=w[1],x=Object(l.useState)(""),L=Object(r.a)(x,2),S=L[0],C=L[1],q=Object(l.useState)(null),N=Object(r.a)(q,2),k=N[0],P=N[1],z=Object(l.useState)(null),A=Object(r.a)(z,2),_=A[0],D=A[1],U=Object(l.useState)(null),T=Object(r.a)(U,2),R=T[0],M=T[1],G=Object(l.useState)(!1),V=Object(r.a)(G,2),W=V[0],H=V[1],J=Object(l.useState)(!1),X=Object(r.a)(J,2),Q=X[0],K=X[1],$=function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(null!==(t=null===d||void 0===d||null===(a=d.user)||void 0===a?void 0:a.name)&&void 0!==t?t:""),C(null===d||void 0===d||null===(n=d.user)||void 0===n?void 0:n.contact_email),b(!f),Y();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){P(null),D(null)},Z=function(e){e&&(M(e.errorMessage),e.userName&&e.userName[0]&&P(e.userName[0]),e.contactEmail&&e.contactEmail[0]&&D(e.contactEmail[0]),H(!0))};return o.a.createElement(i.m,null,h.isLoading&&o.a.createElement(i.H,{type:"indeterminate"}),o.a.createElement(i.V,{isOpen:W,message:null!==R&&void 0!==R?R:"Some error occurred while saving profile.",color:"danger",position:"top",onDidDismiss:function(){return H(!1)},duration:2e3}),o.a.createElement(i.V,{isOpen:Q,message:"Profile updated successfully.",color:"success",position:"top",onDidDismiss:function(){return K(!1)},duration:1400}),o.a.createElement(i.o,null,!f&&o.a.createElement(i.L,{className:"mv-md ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.e,{color:"warning",onClick:$,className:"ion-float-right"},o.a.createElement(i.q,{icon:s.H,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Edit Profile")))),o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.y,null,o.a.createElement(i.w,null,o.a.createElement(i.x,null,"Profile details")),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},o.a.createElement(i.q,{icon:s.f,slot:"start"})," Login Phone Number (need verification)"),o.a.createElement(i.u,{value:null===d||void 0===d||null===(e=d.user)||void 0===e?void 0:e.phone_number,disabled:!0,type:"tel",inputmode:"tel",pattern:"tel",placeholder:"main contact number",required:!0,maxlength:20})),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},"Name"),o.a.createElement(i.u,{value:f?j:null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.name,readonly:!f&&!h.isLoading,onIonChange:function(e){return O(e.detail.value)},placeholder:"your full name",required:!0})),o.a.createElement(I,{message:k})))),o.a.createElement(i.L,{className:"ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"8",sizeSm:"12"},o.a.createElement(i.y,null,o.a.createElement(i.w,null,o.a.createElement(i.x,null,"Other details")),o.a.createElement(i.v,null,o.a.createElement(i.x,{position:"stacked"},o.a.createElement(i.q,{icon:s.C,slot:"start"}),"Email (need verification)"),o.a.createElement(i.u,{value:f?S:null===d||void 0===d||null===(a=d.user)||void 0===a?void 0:a.contact_email,readonly:!f&&!h.isLoading,type:"email",inputmode:"email",pattern:"email",onIonChange:function(e){return C(e.detail.value)},placeholder:"your email",required:!0})),o.a.createElement(I,{message:_})))),!f&&o.a.createElement(i.L,{className:"ion-justify-content-center mv-md"},o.a.createElement(i.l,{sizeLg:"2",sizeSm:"2"},o.a.createElement(i.e,{fill:"clear",className:"mv-md",onClick:null===u||void 0===u?void 0:u.singOut},o.a.createElement(i.q,{icon:s.x,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Sign-out")))),f&&o.a.createElement(i.L,{className:"mv-md ion-justify-content-center"},o.a.createElement(i.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(i.e,{color:"light",onClick:$,disabled:h.isLoading},o.a.createElement(i.q,{icon:s.n,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Cancel Edit"))),o.a.createElement(i.l,{sizeLg:"4",sizeSm:"3"},o.a.createElement(i.e,{className:"ion-float-right",onClick:function(){Y(),h.mutate({userName:j,contactEmail:S},{onError:function(e,t,a){var n=p.a.GetAPIErrorObj(e);Z(n)},onSuccess:function(e,t,a){var n=p.a.GetAPIDataObj(e);if(n)if(n.success)null===d||void 0===d||d.setLocalUser(n.data),b(!1),K(!0);else{var s=p.a.GetAPIErrorObj(e);console.log(s),Z(s)}}})},disabled:h.isLoading},o.a.createElement(i.q,{icon:s.N,slot:"start"}),o.a.createElement(i.x,{className:"ion-text-capitalize"},"Save Infomation"))))))};a.d(t,"a",(function(){return J})),a.d(t,"d",(function(){return X})),a.d(t,"b",(function(){return Q})),a.d(t,"i",(function(){return K})),a.d(t,"h",(function(){return $})),a.d(t,"f",(function(){return Y})),a.d(t,"g",(function(){return Z})),a.d(t,"e",(function(){return te})),a.d(t,"c",(function(){return ae}));var J="/myprofalo",X={title:"Dashboard",url:J+"/dashboard",iosIcon:s.s,mdIcon:s.t,requireAuth:!0,component:R},Q={title:"Business Listing",url:J+"/business",iosIcon:s.Q,mdIcon:s.R,requireAuth:!0,component:S},K={title:"View-Edit Business Details",url:J+"/business/:id/:newBusiness?",iosIcon:s.Q,mdIcon:s.R,requireAuth:!0,hideInMenu:!0,component:U},$={title:"Product Listing",url:J+"/product",iosIcon:s.q,mdIcon:s.r,requireAuth:!0,component:W},Y={title:"My Profile",url:J+"/profile",iosIcon:s.J,mdIcon:s.K,requireAuth:!0,component:H},Z={title:"Notifications",url:J+"/notifications",iosIcon:s.F,mdIcon:s.G,requireAuth:!0,component:V},ee=[X,Q,K,$,Y,Z],te=function(e){return ee.find((function(t){return t.url===e}))},ae=ee.filter((function(e){return!e.hideInMenu}));t.j=ee},33:function(e,t,a){"use strict";var n=a(0),s=a.n(n),r=a(5),i=a(46),l=a(9),o=a(42),c=function(e){var t=Object(n.useState)(),a=Object(r.a)(t,2),s=a[0],c=(a[1],Object(n.useState)()),u=Object(r.a)(c,2),d=u[0],m=(u[1],Object(n.useState)(!1)),v=Object(r.a)(m,2),g=v[0],E=v[1],p=function(t,a){if(E(!0),l.a.IsWeb())i.a.SignIn({phoneNumber:t,refreshToken:a}).then((function(t){var a=l.a.GetAPIDataObj(t);if(!a)throw new Error("Something went wrong, please try again");e.setLocalUser(a.data),E(!1)})).catch((function(t){e.setLocalUser(null),E(!1)}));else e.getLocalUser()};return{isAuthenticated:function(){var t=null!=e.getLocalUser();return t},isLoading:g,error:s,message:d,trySignIn:function(){E(!0),o.a.auth().onAuthStateChanged((function(e){e&&e.phoneNumber&&e.refreshToken?p(e.phoneNumber,e.refreshToken):E(!1)}))},singOut:function(){E(!0),e.setLocalUser(null),i.a.SignOut().then((function(e){if(!l.a.GetAPIDataObj(e))throw new Error("Something went wrong, please try again");E(!1)})).catch((function(t){e.setLocalUser(null),E(!1)})),o.a.auth().signOut()}}},u=a(54),d=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)([]),l=Object(r.a)(i,2),o=l[0],c=l[1],d=Object(n.useState)(""),m=Object(r.a)(d,2),v=m[0],g=m[1],E=Object(n.useState)(!1),p=Object(r.a)(E,2),f=p[0],b=p[1],h=Object(n.useState)(!0),y=Object(r.a)(h,2),w=y[0],j=y[1];return{unreadCount:a,notifications:o,hasNext:w,error:v,isLoading:f,getNotificationsNextPage:function(e){b(!0),!1!==w?setTimeout((function(){var t=[{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1},{id:"123",dateTime:"2 min ago",title:"Test title asdad asdasdadasdasd asdasdasda sdasdasd",type:"success",message:"Lol some message, asdasda asdasdasd asd asdasdqweqwe qwe qweqwwe qweqweqwe",read:!1}];t=[].concat(Object(u.a)(o),Object(u.a)(t)),c(t),s(null),j(!0),g(""),e&&e(),b(!1)}),2e3):b(!1)},getUnreadReadCount:function(){f||(b(!0),setTimeout((function(){s(2),b(!1)}),3e3))}}},m=localStorage,v=function(){l.a.IsWeb();return{setItem:function(e,t){m.setItem(e,JSON.stringify(t))},getItem:function(e){var t=m.getItem(e);return null==t?null:JSON.parse(t)}}},g=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),a=t[0],s=t[1];return{getLocalUser:function(){var e=null,t=v().getItem("localUser");return null!=t&&(e=t),e},setLocalUser:function(e){v().setItem("localUser",e),s(e)},user:a}};a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return p}));var E=Object(n.createContext)({}),p=function(e){var t=e.children,a={};return a.userState=g(),a.auth=c(a.userState),a.notificationState=d(),Object(n.useEffect)((function(){var e;null===(e=a.auth)||void 0===e||e.trySignIn()}),[]),s.a.createElement(E.Provider,{value:a},t)}},42:function(e,t,a){"use strict";var n=a(8);a(85);t.a=n.a},46:function(e,t,a){"use strict";var n=a(7),s=a.n(n),r=a(41),i=a(15),l=a(9),o=a(26),c=l.a.WithAppURL("/sanctum/csrf-cookie"),u=l.a.WithAppURL("/myprofalo/signin"),d=l.a.WithAppURL("/myprofalo/signout"),m=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.rawAxios.get(c);case 2:return i=null!==(a=null===(n=document.querySelector("[name=_token]"))||void 0===n?void 0:n.value)&&void 0!==a?a:"",e.abrupt("return",o.a.rawAxios.post(u,Object(r.a)(Object(r.a)({},t),{},{_token:i})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.httpClient.get("merchant-user"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.rawAxios.get(d));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t,a,n={success:!0,request:null};if(!e)return n.success=!1,n.message="Something went wrong, please try again later.",n;if(l.a.StrIsFalsy(e.userName))return n.success=!1,n.message="Name is required",n.error={userName:[n.message]},n;(n.request={userName:e.userName.trim()},l.a.StrIsFalsy(e.contactEmail))||(n.request.contactEmail=null===(t=e.contactEmail)||void 0===t?void 0:t.trim());l.a.StrIsFalsy(e.contactNumber)||(n.request.contactNumber=null===(a=e.contactNumber)||void 0===a?void 0:a.trim());return n},p={SignIn:m,GetUserData:v,UpdateUserData:function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=E(t)).success){e.next=3;break}return e.abrupt("return",l.a.CreateAPIResponseObj(a));case 3:return e.abrupt("return",o.a.httpClient.put("merchant-user",a.request));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),SignOut:g};t.a=p},53:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(41),s=a(14),r=new function e(){var t=this;Object(s.a)(this,e),this._config=void 0,this.appInit=function(e){var a=e.APP_URL.endsWith("/")?e.APP_URL.slice(0,-1):e.APP_URL+"";t._config={APP_URL:a,firebase:Object(n.a)({},e.firebaseConfig)}},this.get=function(){return t._config},this._config={APP_URL:"",firebase:{}}}},9:function(e,t,a){"use strict";var n=a(1),s=a(53),r={StrIsFalsy:function(e){return null===e||void 0===e||0===e.trim().length},IsWeb:function(){return Object(n.fb)("desktop")||Object(n.fb)("mobileweb")},GetAPIErrorObj:function(e){return e&&e.data&&!e.data.success?e.data.error:e&&e.response&&e.response.data?e.response.data.error?e.response.data.error:e.response.data.message?{errorMessage:e.response.data.message.includes("Exception")?"Some error occurred at server.":e.response.data.message}:void 0:null},GetAPIDataObj:function(e){return e&&e.data?e.data:null},CreateAPIResponseObj:function(e){return{data:e}},PlaceholderImg:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"9dadc9";return e&&(e=(e=(e=e.trim()).substring(0,5)).toUpperCase()),"https://dummyimage.com/".concat(a,"/").concat(n,"/edeffa.png&text=").concat(null!==(t=e)&&void 0!==t?t:"profalo.in")},ToggleUITheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark",t=window.matchMedia("(prefers-color-scheme: dark)");document.body.classList.toggle("dark","light"!==e&&t.matches)},ChangeLocation:function(e){window.location.replace(e)},WithAppURL:function(e){return e=e.startsWith("/")?e:"/"+e,s.a.get().APP_URL+e}};t.a=r}},[[106,3,4]]]);